<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clojure2d.core documentation</title><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clojure2d</span> <span class="project-version">1.4.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1"><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojure2d</span></div></div></li><li class="depth-2"><a href="clojure2d.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3"><a href="clojure2d.color.blend.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blend</span></div></a></li><li class="depth-2 branch current"><a href="clojure2d.core.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>extra</span></div></div></li><li class="depth-3 branch"><a href="clojure2d.extra.glitch.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>glitch</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.extra.overlays.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>overlays</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.extra.raymarching.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>raymarching</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.extra.segmentation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>segmentation</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.extra.signal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>signal</span></div></a></li><li class="depth-3"><a href="clojure2d.extra.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-2 branch"><a href="clojure2d.pixels.html"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>pixels</span></div></a></li><li class="depth-2"><a href="clojure2d.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clojure2d.core.html#var-*jpeg-image-quality*"><div class="inner"><span>*jpeg-image-quality*</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-*log-to-file*"><div class="inner"><span>*log-to-file*</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-alt-down.3F"><div class="inner"><span>alt-down?</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-alt-gr-down.3F"><div class="inner"><span>alt-gr-down?</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-arc"><div class="inner"><span>arc</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-available-cores"><div class="inner"><span>available-cores</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-available-tasks"><div class="inner"><span>available-tasks</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-awt-xor-mode"><div class="inner"><span>awt-xor-mode</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-bezier"><div class="inner"><span>bezier</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-black-canvas"><div class="inner"><span>black-canvas</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-canvas"><div class="inner"><span>canvas</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-char-width"><div class="inner"><span>char-width</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-clip"><div class="inner"><span>clip</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-close-session"><div class="inner"><span>close-session</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-close-window"><div class="inner"><span>close-window</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-control-down.3F"><div class="inner"><span>control-down?</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-convolution-matrices"><div class="inner"><span>convolution-matrices</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-convolve"><div class="inner"><span>convolve</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-crect"><div class="inner"><span>crect</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-curve"><div class="inner"><span>curve</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-datetime"><div class="inner"><span>datetime</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-day"><div class="inner"><span>day</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-double-array-2d"><div class="inner"><span>double-array-2d</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-ellipse"><div class="inner"><span>ellipse</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-ensure-session"><div class="inner"><span>ensure-session</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-file-extension"><div class="inner"><span>file-extension</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-filled-with-stroke"><div class="inner"><span>filled-with-stroke</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-flat-hex"><div class="inner"><span>flat-hex</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-flip-x"><div class="inner"><span>flip-x</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-flip-y"><div class="inner"><span>flip-y</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-flush-graphics"><div class="inner"><span>flush-graphics</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-font-ascent"><div class="inner"><span>font-ascent</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-font-height"><div class="inner"><span>font-height</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-fonts-list"><div class="inner"><span>fonts-list</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-get-canvas"><div class="inner"><span>get-canvas</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-get-image"><div class="inner"><span>get-image</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-get-state"><div class="inner"><span>get-state</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-gradient-mode"><div class="inner"><span>gradient-mode</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-grid-cell"><div class="inner"><span>grid-cell</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-height"><div class="inner"><span>height</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-hour"><div class="inner"><span>hour</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-image"><div class="inner"><span>image</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-img-reader-formats"><div class="inner"><span>img-reader-formats</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-img-writer-formats"><div class="inner"><span>img-writer-formats</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-int-array-2d"><div class="inner"><span>int-array-2d</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-inv-transform"><div class="inner"><span>inv-transform</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-key-char"><div class="inner"><span>key-char</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-key-code"><div class="inner"><span>key-code</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-key-event"><div class="inner"><span>key-event</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-key-event-map"><div class="inner"><span>key-event-map</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-key-pressed"><div class="inner"><span>key-pressed</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-key-pressed.3F"><div class="inner"><span>key-pressed?</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-key-raw"><div class="inner"><span>key-raw</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-key-released"><div class="inner"><span>key-released</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-key-typed"><div class="inner"><span>key-typed</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-line"><div class="inner"><span>line</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-load-bytes"><div class="inner"><span>load-bytes</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-load-image"><div class="inner"><span>load-image</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-load-svg"><div class="inner"><span>load-svg</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-load-url-image"><div class="inner"><span>load-url-image</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-log"><div class="inner"><span>log</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-log-name"><div class="inner"><span>log-name</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-long-array-2d"><div class="inner"><span>long-array-2d</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-make-counter"><div class="inner"><span>make-counter</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-make-graphics"><div class="inner"><span>make-graphics</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-make-session"><div class="inner"><span>make-session</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-meta-down.3F"><div class="inner"><span>meta-down?</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-millis"><div class="inner"><span>millis</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-minute"><div class="inner"><span>minute</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-month"><div class="inner"><span>month</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-mouse-button"><div class="inner"><span>mouse-button</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-mouse-event"><div class="inner"><span>mouse-event</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-mouse-event-map"><div class="inner"><span>mouse-event-map</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-mouse-in-window.3F"><div class="inner"><span>mouse-in-window?</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-mouse-pos"><div class="inner"><span>mouse-pos</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-mouse-pressed.3F"><div class="inner"><span>mouse-pressed?</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-mouse-x"><div class="inner"><span>mouse-x</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-mouse-y"><div class="inner"><span>mouse-y</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-nanos"><div class="inner"><span>nanos</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-next-filename"><div class="inner"><span>next-filename</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-orient-canvas"><div class="inner"><span>orient-canvas</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-orientations-list"><div class="inner"><span>orientations-list</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-paint-mode"><div class="inner"><span>paint-mode</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-path"><div class="inner"><span>path</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-path-bezier"><div class="inner"><span>path-bezier</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-pattern-mode"><div class="inner"><span>pattern-mode</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-point"><div class="inner"><span>point</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-pointy-hex"><div class="inner"><span>pointy-hex</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-pop-matrix"><div class="inner"><span>pop-matrix</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-push-matrix"><div class="inner"><span>push-matrix</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-quad"><div class="inner"><span>quad</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-rarc"><div class="inner"><span>rarc</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-rect"><div class="inner"><span>rect</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-rendering-hints"><div class="inner"><span>rendering-hints</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-replace-canvas"><div class="inner"><span>replace-canvas</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-reset-clip"><div class="inner"><span>reset-clip</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-reset-matrix"><div class="inner"><span>reset-matrix</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-resize"><div class="inner"><span>resize</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-rotate"><div class="inner"><span>rotate</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-save"><div class="inner"><span>save</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-save-file-type"><div class="inner"><span>save-file-type</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-save-image"><div class="inner"><span>save-image</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-scale"><div class="inner"><span>scale</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-screen-height"><div class="inner"><span>screen-height</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-screen-width"><div class="inner"><span>screen-width</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-sec"><div class="inner"><span>sec</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-session-name"><div class="inner"><span>session-name</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-set-awt-background"><div class="inner"><span>set-awt-background</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-set-awt-color"><div class="inner"><span>set-awt-color</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-set-background"><div class="inner"><span>set-background</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-set-color"><div class="inner"><span>set-color</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-set-composite"><div class="inner"><span>set-composite</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-set-font"><div class="inner"><span>set-font</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-set-font-attributes"><div class="inner"><span>set-font-attributes</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-set-state.21"><div class="inner"><span>set-state!</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-set-stroke"><div class="inner"><span>set-stroke</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-set-stroke-custom"><div class="inner"><span>set-stroke-custom</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-shear"><div class="inner"><span>shear</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-shift-down.3F"><div class="inner"><span>shift-down?</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-show-window"><div class="inner"><span>show-window</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-stroke-caps"><div class="inner"><span>stroke-caps</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-stroke-joins"><div class="inner"><span>stroke-joins</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-subimage"><div class="inner"><span>subimage</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-text"><div class="inner"><span>text</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-text-bounding-box"><div class="inner"><span>text-bounding-box</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-text-width"><div class="inner"><span>text-width</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-to-hex"><div class="inner"><span>to-hex</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-transcode-svg"><div class="inner"><span>transcode-svg</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-transform"><div class="inner"><span>transform</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-translate"><div class="inner"><span>translate</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-triangle"><div class="inner"><span>triangle</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-triangle-fan"><div class="inner"><span>triangle-fan</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-triangle-strip"><div class="inner"><span>triangle-strip</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-virtual-key"><div class="inner"><span>virtual-key</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-width"><div class="inner"><span>width</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-window-active.3F"><div class="inner"><span>window-active?</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-with-canvas"><div class="inner"><span>with-canvas</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-with-canvas-.3E"><div class="inner"><span>with-canvas-&gt;</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-with-oriented-canvas"><div class="inner"><span>with-oriented-canvas</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-with-oriented-canvas-.3E"><div class="inner"><span>with-oriented-canvas-&gt;</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-xor-mode"><div class="inner"><span>xor-mode</span></div></a></li><li class="depth-1"><a href="clojure2d.core.html#var-year"><div class="inner"><span>year</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clojure2d.core</h1><div class="doc"><div class="markdown"><p>Main Clojure2d entry point for Canvas, Window and drawing generatively.</p>
<p>Basic concepts:</p>
<ul>
  <li>Image - <code>BufferedImage</code> java object used to store ARGB color information.</li>
  <li>Canvas - Image which contains graphical context. You draw on it. Similar to processing Graphics object.</li>
  <li>Window - Window which can display canvas, process events, keeps app/script concept. Similar to Processing sketch with display.</li>
  <li>Events - Mouse and keyboard events</li>
</ul>
<p>Protocols:</p>
<ul>
  <li><a href="clojure2d.protocols.html#var-ImageProto">ImageProto</a> - basic Image operations (Image, Canvas, Window and Pixels (see <a href="clojure2d.pixels.html">clojure2d.pixels</a>) implement this protocol.</li>
  <li>Various events protocols. Events and Window implement these:
    <ul>
      <li><a href="clojure2d.protocols.html#var-MouseXYProto">MouseXYProto</a> - mouse position related to Window.</li>
      <li><a href="clojure2d.protocols.html#var-MouseButtonProto">MouseButtonProto</a> - status of mouse buttons.</li>
      <li><a href="clojure2d.protocols.html#var-KeyEventProto">KeyEventProto</a> - keyboard status</li>
      <li><a href="clojure2d.protocols.html#var-ModifiersProto">ModifiersProto</a> - status of special keys (Ctrl, Meta, Alt, etc.)</li>
    </ul>
  </li>
  <li>Additionally Window implements <a href="clojure2d.protocols.html#var-PressedProto">PressedProto</a> in case you want to check in draw loop if your mouse or key is pressed.</li>
</ul>
<h2><a href="#image" name="image"></a>Image</h2>
<p>Image is <code>BufferedImage</code> java object. Image can be read from file using <a href="clojure2d.core.html#var-load-image">load-image</a> function or saved to file with <a href="clojure2d.core.html#var-save">save</a>. ImageProto provides <a href="clojure2d.core.html#var-get-image">get-image</a> function to access to Image object directly (if you need) There is no function which creates Image directly (use Canvas instead).</p>
<h3><a href="#svg" name="svg"></a>SVG</h3>
<p>To load SVG use <code>load-svg</code> which creates internal Batik object. Object can be rendered to Image with <code>transcode-svg</code>.</p>
<h2><a href="#canvas" name="canvas"></a>Canvas</h2>
<p>Canvas is an object which is used to draw on it. To create new one call <a href="clojure2d.core.html#var-canvas">canvas</a> function. Provide width and height and optionally quality hint.</p>
<p>Quality hints are as follows:</p>
<ul>
  <li><code>:low</code> - no antialiasing, speed optimized rendering</li>
  <li><code>:mid</code> - antialiasing, speed optimized rendering</li>
  <li><code>:high</code> - antialiasing, quality optimized rendering (default)</li>
  <li><code>:highest</code> - as <code>:high</code> plus <code>PURE_STROKE</code> hint, which can give strange results in some cases.</li>
</ul>
<p>To draw on Canvas you have to create graphical context. Wrap your code into one of two functions:</p>
<ul>
  <li><a href="clojure2d.core.html#var-with-canvas">with-canvas</a> - binding macro <code>(with-canvas [local-canvas canvas-object] ...)</code></li>
  <li><a href="clojure2d.core.html#var-with-canvas-.3E">with-canvas-&gt;</a> - threading macro <code>(with-canvas-&gt; canvas ...)</code>.</li>
</ul>
<p>Each function in this macro has to accept Canvas as first parameter and return Canvas.</p>
<p>Canvas bound to Window and accessed via callback drawing function (a’ka Processing <code>draw()</code>) has graphical context created automatically.</p>
<h2><a href="#events" name="events"></a>Events</h2>
<p>Java2d keyboard and mouse event handlers can be defined as custom multimethods separately for each window. There are following options:</p>
<ul>
  <li>Handlers for particular key with dispatch as a vector of window name and key character (eg. <code>["name" \c]</code>)
    <ul>
      <li><a href="clojure2d.core.html#var-key-pressed">key-pressed</a> - when key is pressed</li>
      <li><a href="clojure2d.core.html#var-key-released">key-released</a> - when key is released</li>
      <li><a href="clojure2d.core.html#var-key-typed">key-typed</a> - when key is typed</li>
    </ul>
  </li>
  <li>Handler for given key event with dispatch as a vector of window name and key event (eg. <code>["name" :key-pressed]</code>)</li>
  <li>Handler for mouse event with dispatch as a vector of window name and mouse event (eg. <code>["name" :mouse-dragged]</code>)</li>
</ul>
<p>Every event handler accepts as parameters:</p>
<ul>
  <li>Event object (java KeyEvent or MouseEvent) - access to the fields through defined protocols</li>
  <li>Global state - state attached to window</li>
</ul>
<p>Event handler should return new global state.</p>
<h2><a href="#window" name="window"></a>Window</h2>
<p>Window object is responsible for displaying canvas content and processing events. You can also initialize states here.</p>
<p>To create window and display it call <a href="clojure2d.core.html#var-show-window">show-window</a>. Function accepts several parameters which are described below.</p>
<p>Window itself simulates workflow which is available in Processing/Quil frameworks.</p>
<h3><a href="#internals" name="internals"></a>Internals</h3>
<p>When window is created following things are done:</p>
<ol>
  <li>Check parameters and create missing values for missed ones.</li>
  <li>If <code>:setup</code> function is provided, call it and use returned value as <code>:draw-state</code></li>
  <li>Create JFrame, java.awt.Canvas, pack them, attach event handlers and display</li>
  <li>Set global state</li>
  <li>Run separated thread which refreshes display with given <code>:fps</code>, if <code>:draw-fn</code> is available it’s called before refreshment.</li>
</ol>
<p>Additional informations:</p>
<ul>
  <li>Display refreshment is done by displaying canvas on JFrame. You can set separate quality hints (same as for canvas) for this process with <code>:hint</code> parameter.</li>
  <li>When you privide drawing function, it’s called every refreshment. By default graphical context is created every call - which costs time but is safe in case you want to directly access pixels. The second variant which can be used is to create graphical context once at the moment of window creation. This variant can be forced by setting <code>:refresher</code> parameter to <code>:fast</code>.</li>
  <li>You can replace canvas attached to window with <a href="clojure2d.core.html#var-replace-canvas">replace-canvas</a> function.</li>
  <li>Window itself acts as event object (implements all event protocols)</li>
  <li>Canvas and window can have different sizes. Display refreshing functions will scale up/down in such case.</li>
  <li>Events and refreshment are not synchronized. Try to avoid drawing inside event multimethods.</li>
  <li>You can create as many windows as you want.</li>
  <li>You can check if window is visible or not with <a href="clojure2d.core.html#var-window-active.3F">window-active?</a> function.</li>
  <li>If you provide both <code>:draw-state</code> and <code>:setup</code>. Value returned by <code>:setup</code> has a precedence unless is <code>nil</code> or <code>false</code>.</li>
</ul>
<h3><a href="#parameters" name="parameters"></a>Parameters</h3>
<p>Following parameters are used:</p>
<ul>
  <li><code>:canvas</code> - canvas which is displayed on window. Default is 200x200px</li>
  <li><code>:window-name</code> - name of the window as a string. Used for event multimathods dispatch.</li>
  <li><code>:w</code> - width of the window. Default width of the canvas</li>
  <li><code>:h</code> - height of the window. Default height of the canvas</li>
  <li><code>:fps</code> - frames per second, defaults to 60</li>
  <li><code>:draw-fn</code> - drawing function, called before every display refreshment. Function should accept following four parameters:
    <ul>
      <li>canvas within graphical context (you don’t need to use <a href="clojure2d.core.html#var-with-canvas">with-canvas</a> or <a href="clojure2d.core.html#var-with-canvas-.3E">with-canvas-&gt;</a> wrappers.</li>
      <li>window object</li>
      <li>current frame number as a long value</li>
      <li>current state</li>
    </ul>
  </li>
  <li><code>:setup</code> - setup function which should accept two parameters and return initial draw state.
    <ul>
      <li>canvas withing graphical context</li>
      <li>window object</li>
    </ul>
  </li>
  <li><code>:state</code> - initial global state</li>
  <li><code>:draw-state</code> - initial local (drawing) state. If <code>setup</code> is provided, value returned by it will be used instead.</li>
  <li><code>:hint</code> - display quality hint. Use it when window and canvas have different sizes</li>
  <li><code>:refresher</code> - when create graphical context for draw: <code>:fast</code> for once or <code>:safe</code> for each call (default).</li>
</ul>
<h2><a href="#states" name="states"></a>States</h2>
<p>There are two states managed by library: global state connected to window and draw state connected to callback drawing function.</p>
<h3><a href="#global-state" name="global-state"></a>Global state</h3>
<p>Each window has its own state kept in <code>atom</code>. The main idea is to have data which flow between event calls. Every event function accepts state and should return state data. Initial state can be set with <a href="clojure2d.core.html#var-show-window">show-window</a> <code>:state</code> parameter To access current state from outside the flow call <a href="clojure2d.core.html#var-get-state">get-state</a>. You can also mutate the state with <a href="clojure2d.core.html#var-set-state.21">set-state!</a>.</p>
<h3><a href="#local-state-for-drawing-function" name="local-state-for-drawing-function"></a>Local state for drawing function</h3>
<p>When drawing callback is used you can keep state between calls. What is returned by callback is passed as a parameter in next call. Drawing function is not synchronized with events that’s why local state is introduced. You can still access and change global state.</p>
<p>You can init state from <a href="clojure2d.core.html#var-show-window">show-window</a> with <code>:draw-state</code> or <code>:setup</code> parameters.</p>
<h2><a href="#how-to-draw" name="how-to-draw"></a>How to draw</h2>
<p>There are plenty of functions which you can use to draw on canvas. They can be grouped to:</p>
<ul>
  <li>Primitives like <a href="clojure2d.core.html#var-point">point</a>, <a href="clojure2d.core.html#var-rect">rect</a>, etc.</li>
  <li>Tranformations like <a href="clojure2d.core.html#var-translate">translate</a>, <a href="clojure2d.core.html#var-rotate">rotate</a>, etc.</li>
  <li>Text rendering like <a href="clojure2d.core.html#var-text">text</a>, <a href="clojure2d.core.html#var-set-font-attributes">set-font-attributes</a>, etc.</li>
  <li>Image manipulations like <a href="clojure2d.core.html#var-convolve">convolve</a></li>
  <li>Color and style like <a href="clojure2d.core.html#var-set-color">set-color</a>, <a href="clojure2d.core.html#var-gradient-mode">gradient-mode</a>, <a href="clojure2d.core.html#var-set-background">set-background</a>, <a href="clojure2d.core.html#var-set-stroke">set-stroke</a>, etc.</li>
</ul>
<p>All operate on canvas and return canvas as a result. Obviously canvas is mutated.</p>
<h2><a href="#session" name="session"></a>Session</h2>
<p>Session is a datetime with its hash kept globally in vector. To access current session names call <a href="clojure2d.core.html#var-session-name">session-name</a>.</p>
<p>Following functions rely on session:</p>
<ul>
  <li><a href="clojure2d.core.html#var-next-filename">next-filename</a> - generate unique filename based on session</li>
  <li><a href="clojure2d.core.html#var-log">log</a> - save any information to the file under name based on session. See <a href="clojure2d.core.html#var-log-name">log-name</a>.</li>
</ul>
<p>Session is created automatically when needed. Session management functions are:</p>
<ul>
  <li><a href="clojure2d.core.html#var-make-session">make-session</a> - create new session</li>
  <li><a href="clojure2d.core.html#var-ensure-session">ensure-session</a> - create new session when there is no one</li>
  <li><a href="clojure2d.core.html#var-close-session">close-session</a> - close current session</li>
  <li><a href="clojure2d.core.html#var-session-name">session-name</a> - returns current session.</li>
</ul>
<h2><a href="#utilities" name="utilities"></a>Utilities</h2>
<p>Additional utility functions</p>
<ul>
  <li>date and time functions</li>
  <li><a href="clojure2d.core.html#var-to-hex">to-hex</a> formatter</li>
</ul></div><div class="markdown"><h4>Categories</h4><ul><li>Canvas functions: <a href="clojure2d.core.html#var-black-canvas">black-canvas</a> <a href="clojure2d.core.html#var-canvas">canvas</a> <a href="clojure2d.core.html#var-clip">clip</a> <a href="clojure2d.core.html#var-convolve">convolve</a> <a href="clojure2d.core.html#var-flip-x">flip-x</a> <a href="clojure2d.core.html#var-flip-y">flip-y</a> <a href="clojure2d.core.html#var-get-canvas">get-canvas</a> <a href="clojure2d.core.html#var-get-image">get-image</a> <a href="clojure2d.core.html#var-height">height</a> <a href="clojure2d.core.html#var-inv-transform">inv-transform</a> <a href="clojure2d.core.html#var-orient-canvas">orient-canvas</a> <a href="clojure2d.core.html#var-orientations-list">orientations-list</a> <a href="clojure2d.core.html#var-pop-matrix">pop-matrix</a> <a href="clojure2d.core.html#var-push-matrix">push-matrix</a> <a href="clojure2d.core.html#var-rendering-hints">rendering-hints</a> <a href="clojure2d.core.html#var-replace-canvas">replace-canvas</a> <a href="clojure2d.core.html#var-reset-clip">reset-clip</a> <a href="clojure2d.core.html#var-reset-matrix">reset-matrix</a> <a href="clojure2d.core.html#var-resize">resize</a> <a href="clojure2d.core.html#var-rotate">rotate</a> <a href="clojure2d.core.html#var-save">save</a> <a href="clojure2d.core.html#var-scale">scale</a> <a href="clojure2d.core.html#var-shear">shear</a> <a href="clojure2d.core.html#var-subimage">subimage</a> <a href="clojure2d.core.html#var-transform">transform</a> <a href="clojure2d.core.html#var-translate">translate</a> <a href="clojure2d.core.html#var-width">width</a> <a href="clojure2d.core.html#var-with-canvas">with-canvas</a> <a href="clojure2d.core.html#var-with-canvas-.3E">with-canvas-&gt;</a> <a href="clojure2d.core.html#var-with-oriented-canvas">with-oriented-canvas</a> <a href="clojure2d.core.html#var-with-oriented-canvas-.3E">with-oriented-canvas-&gt;</a></li><li>Screen: <a href="clojure2d.core.html#var-screen-height">screen-height</a> <a href="clojure2d.core.html#var-screen-width">screen-width</a></li><li>Drawing functions: <a href="clojure2d.core.html#var-arc">arc</a> <a href="clojure2d.core.html#var-awt-xor-mode">awt-xor-mode</a> <a href="clojure2d.core.html#var-bezier">bezier</a> <a href="clojure2d.core.html#var-crect">crect</a> <a href="clojure2d.core.html#var-curve">curve</a> <a href="clojure2d.core.html#var-ellipse">ellipse</a> <a href="clojure2d.core.html#var-filled-with-stroke">filled-with-stroke</a> <a href="clojure2d.core.html#var-flat-hex">flat-hex</a> <a href="clojure2d.core.html#var-gradient-mode">gradient-mode</a> <a href="clojure2d.core.html#var-grid-cell">grid-cell</a> <a href="clojure2d.core.html#var-image">image</a> <a href="clojure2d.core.html#var-line">line</a> <a href="clojure2d.core.html#var-paint-mode">paint-mode</a> <a href="clojure2d.core.html#var-path">path</a> <a href="clojure2d.core.html#var-path-bezier">path-bezier</a> <a href="clojure2d.core.html#var-pattern-mode">pattern-mode</a> <a href="clojure2d.core.html#var-point">point</a> <a href="clojure2d.core.html#var-pointy-hex">pointy-hex</a> <a href="clojure2d.core.html#var-quad">quad</a> <a href="clojure2d.core.html#var-rarc">rarc</a> <a href="clojure2d.core.html#var-rect">rect</a> <a href="clojure2d.core.html#var-set-awt-background">set-awt-background</a> <a href="clojure2d.core.html#var-set-awt-color">set-awt-color</a> <a href="clojure2d.core.html#var-set-background">set-background</a> <a href="clojure2d.core.html#var-set-color">set-color</a> <a href="clojure2d.core.html#var-set-composite">set-composite</a> <a href="clojure2d.core.html#var-set-stroke">set-stroke</a> <a href="clojure2d.core.html#var-set-stroke-custom">set-stroke-custom</a> <a href="clojure2d.core.html#var-stroke-caps">stroke-caps</a> <a href="clojure2d.core.html#var-stroke-joins">stroke-joins</a> <a href="clojure2d.core.html#var-transcode-svg">transcode-svg</a> <a href="clojure2d.core.html#var-triangle">triangle</a> <a href="clojure2d.core.html#var-triangle-fan">triangle-fan</a> <a href="clojure2d.core.html#var-triangle-strip">triangle-strip</a> <a href="clojure2d.core.html#var-xor-mode">xor-mode</a></li><li>Date / time: <a href="clojure2d.core.html#var-datetime">datetime</a> <a href="clojure2d.core.html#var-day">day</a> <a href="clojure2d.core.html#var-hour">hour</a> <a href="clojure2d.core.html#var-millis">millis</a> <a href="clojure2d.core.html#var-minute">minute</a> <a href="clojure2d.core.html#var-month">month</a> <a href="clojure2d.core.html#var-nanos">nanos</a> <a href="clojure2d.core.html#var-sec">sec</a> <a href="clojure2d.core.html#var-year">year</a></li><li>Events: <a href="clojure2d.core.html#var-alt-down.3F">alt-down?</a> <a href="clojure2d.core.html#var-alt-gr-down.3F">alt-gr-down?</a> <a href="clojure2d.core.html#var-control-down.3F">control-down?</a> <a href="clojure2d.core.html#var-key-char">key-char</a> <a href="clojure2d.core.html#var-key-code">key-code</a> <a href="clojure2d.core.html#var-key-event">key-event</a> <a href="clojure2d.core.html#var-key-event-map">key-event-map</a> <a href="clojure2d.core.html#var-key-pressed">key-pressed</a> <a href="clojure2d.core.html#var-key-pressed.3F">key-pressed?</a> <a href="clojure2d.core.html#var-key-raw">key-raw</a> <a href="clojure2d.core.html#var-key-released">key-released</a> <a href="clojure2d.core.html#var-key-typed">key-typed</a> <a href="clojure2d.core.html#var-meta-down.3F">meta-down?</a> <a href="clojure2d.core.html#var-mouse-button">mouse-button</a> <a href="clojure2d.core.html#var-mouse-event">mouse-event</a> <a href="clojure2d.core.html#var-mouse-event-map">mouse-event-map</a> <a href="clojure2d.core.html#var-mouse-pos">mouse-pos</a> <a href="clojure2d.core.html#var-mouse-pressed.3F">mouse-pressed?</a> <a href="clojure2d.core.html#var-mouse-x">mouse-x</a> <a href="clojure2d.core.html#var-mouse-y">mouse-y</a> <a href="clojure2d.core.html#var-shift-down.3F">shift-down?</a></li><li>Image functions: <a href="clojure2d.core.html#var-*jpeg-image-quality*">*jpeg-image-quality*</a> <a href="clojure2d.core.html#var-convolution-matrices">convolution-matrices</a> <a href="clojure2d.core.html#var-convolve">convolve</a> <a href="clojure2d.core.html#var-file-extension">file-extension</a> <a href="clojure2d.core.html#var-get-image">get-image</a> <a href="clojure2d.core.html#var-height">height</a> <a href="clojure2d.core.html#var-img-reader-formats">img-reader-formats</a> <a href="clojure2d.core.html#var-img-writer-formats">img-writer-formats</a> <a href="clojure2d.core.html#var-load-image">load-image</a> <a href="clojure2d.core.html#var-load-svg">load-svg</a> <a href="clojure2d.core.html#var-resize">resize</a> <a href="clojure2d.core.html#var-save">save</a> <a href="clojure2d.core.html#var-save-file-type">save-file-type</a> <a href="clojure2d.core.html#var-save-image">save-image</a> <a href="clojure2d.core.html#var-subimage">subimage</a> <a href="clojure2d.core.html#var-width">width</a></li><li>Session: <a href="clojure2d.core.html#var-*log-to-file*">*log-to-file*</a> <a href="clojure2d.core.html#var-close-session">close-session</a> <a href="clojure2d.core.html#var-ensure-session">ensure-session</a> <a href="clojure2d.core.html#var-log">log</a> <a href="clojure2d.core.html#var-log-name">log-name</a> <a href="clojure2d.core.html#var-make-session">make-session</a> <a href="clojure2d.core.html#var-next-filename">next-filename</a> <a href="clojure2d.core.html#var-session-name">session-name</a></li><li>Transform canvas: <a href="clojure2d.core.html#var-flip-x">flip-x</a> <a href="clojure2d.core.html#var-flip-y">flip-y</a> <a href="clojure2d.core.html#var-inv-transform">inv-transform</a> <a href="clojure2d.core.html#var-orient-canvas">orient-canvas</a> <a href="clojure2d.core.html#var-orientations-list">orientations-list</a> <a href="clojure2d.core.html#var-pop-matrix">pop-matrix</a> <a href="clojure2d.core.html#var-push-matrix">push-matrix</a> <a href="clojure2d.core.html#var-reset-matrix">reset-matrix</a> <a href="clojure2d.core.html#var-rotate">rotate</a> <a href="clojure2d.core.html#var-scale">scale</a> <a href="clojure2d.core.html#var-shear">shear</a> <a href="clojure2d.core.html#var-transform">transform</a> <a href="clojure2d.core.html#var-translate">translate</a> <a href="clojure2d.core.html#var-with-oriented-canvas">with-oriented-canvas</a> <a href="clojure2d.core.html#var-with-oriented-canvas-.3E">with-oriented-canvas-&gt;</a></li><li>Window: <a href="clojure2d.core.html#var-alt-down.3F">alt-down?</a> <a href="clojure2d.core.html#var-alt-gr-down.3F">alt-gr-down?</a> <a href="clojure2d.core.html#var-close-window">close-window</a> <a href="clojure2d.core.html#var-control-down.3F">control-down?</a> <a href="clojure2d.core.html#var-convolve">convolve</a> <a href="clojure2d.core.html#var-get-canvas">get-canvas</a> <a href="clojure2d.core.html#var-get-image">get-image</a> <a href="clojure2d.core.html#var-get-state">get-state</a> <a href="clojure2d.core.html#var-height">height</a> <a href="clojure2d.core.html#var-key-char">key-char</a> <a href="clojure2d.core.html#var-key-code">key-code</a> <a href="clojure2d.core.html#var-key-pressed.3F">key-pressed?</a> <a href="clojure2d.core.html#var-key-raw">key-raw</a> <a href="clojure2d.core.html#var-meta-down.3F">meta-down?</a> <a href="clojure2d.core.html#var-mouse-button">mouse-button</a> <a href="clojure2d.core.html#var-mouse-in-window.3F">mouse-in-window?</a> <a href="clojure2d.core.html#var-mouse-pos">mouse-pos</a> <a href="clojure2d.core.html#var-mouse-pressed.3F">mouse-pressed?</a> <a href="clojure2d.core.html#var-mouse-x">mouse-x</a> <a href="clojure2d.core.html#var-mouse-y">mouse-y</a> <a href="clojure2d.core.html#var-rendering-hints">rendering-hints</a> <a href="clojure2d.core.html#var-replace-canvas">replace-canvas</a> <a href="clojure2d.core.html#var-save">save</a> <a href="clojure2d.core.html#var-set-state.21">set-state!</a> <a href="clojure2d.core.html#var-shift-down.3F">shift-down?</a> <a href="clojure2d.core.html#var-show-window">show-window</a> <a href="clojure2d.core.html#var-subimage">subimage</a> <a href="clojure2d.core.html#var-width">width</a> <a href="clojure2d.core.html#var-window-active.3F">window-active?</a></li><li>Text / font: <a href="clojure2d.core.html#var-char-width">char-width</a> <a href="clojure2d.core.html#var-font-ascent">font-ascent</a> <a href="clojure2d.core.html#var-font-height">font-height</a> <a href="clojure2d.core.html#var-fonts-list">fonts-list</a> <a href="clojure2d.core.html#var-set-font">set-font</a> <a href="clojure2d.core.html#var-set-font-attributes">set-font-attributes</a> <a href="clojure2d.core.html#var-text">text</a> <a href="clojure2d.core.html#var-text-bounding-box">text-bounding-box</a> <a href="clojure2d.core.html#var-text-width">text-width</a></li></ul><p>Other vars: <a>-&gt;Canvas</a> <a>-&gt;SessionType</a> <a>-&gt;Window</a> <a>-&gt;WithExceptionT</a> <a href="clojure2d.core.html#var-double-array-2d">double-array-2d</a> <a href="clojure2d.core.html#var-flush-graphics">flush-graphics</a> <a href="clojure2d.core.html#var-int-array-2d">int-array-2d</a> <a href="clojure2d.core.html#var-load-bytes">load-bytes</a> <a href="clojure2d.core.html#var-load-url-image">load-url-image</a> <a href="clojure2d.core.html#var-long-array-2d">long-array-2d</a> <a href="clojure2d.core.html#var-make-counter">make-counter</a> <a href="clojure2d.core.html#var-make-graphics">make-graphics</a> <a>map-&gt;Canvas</a> <a>map-&gt;SessionType</a> <a>map-&gt;Window</a> <a href="clojure2d.core.html#var-to-hex">to-hex</a></p></div><div class="markdown"><h4>Constants</h4><ul><li><a href="clojure2d.core.html#var-available-cores">available-cores</a> = <code>4</code></li><li><a href="clojure2d.core.html#var-available-tasks">available-tasks</a> = <code>6</code></li><li><a href="clojure2d.core.html#var-virtual-key">virtual-key</a> = <code>\0xffff</code></li></ul></div><div class="markdown"><h4>Code snippets</h4><div><blockquote><p>Process image with function <code>f</code> and save.</p></blockquote><pre><code>(defn process-image-snippet
  [f params &amp; opts]
  (let [img (load-image "docs/cockatoo.jpg")
        unique-name (str "images/core/" (first opts) ".jpg")]
    (binding [*jpeg-image-quality* 0.7]
      (save (f img) (str "docs/" unique-name)))
    (str "../" unique-name)))</code></pre></div><div><blockquote><p>Draw axes on reoriented canvas</p></blockquote><pre><code>(defn draw-on-oriented-canvas
  [f params &amp; opts]
  (let [canvas (canvas 400 200)
        unique-name (str "images/core/" (first opts) ".jpg")]
    (with-oriented-canvas-&gt; f
                            canvas
                            (set-background 3162730)
                            (set-color :white)
                            (line 5 5 150 5)
                            (line 5 5 5 100)
                            (line 150 5 145 10)
                            (line 5 100 10 95)
                            (line 150 5 145 0)
                            (line 5 100 0 95)
                            (text "X" 150 20)
                            (text "Y" 15 100)
                            (text "warning: text is reoriented" 20 40))
    (binding [*jpeg-image-quality* 0.85]
      (save canvas (str "docs/" unique-name)))
    (str "../" unique-name)))</code></pre></div><div><blockquote><p>Draw something on canvas and save.</p></blockquote><pre><code>(defn drawing-snippet
  [f params &amp; opts]
  (let [canvas (canvas 200 200)
        unique-name (str "images/core/" (first opts) ".jpg")]
    (with-canvas-&gt; canvas
                   (set-background 3162730)
                   (set-color :white)
                   (f))
    (binding [*jpeg-image-quality* 0.85]
      (save canvas (str "docs/" unique-name)))
    (str "../" unique-name)))</code></pre></div></div></div><div class="public anchor" id="var-*jpeg-image-quality*"><h3>*jpeg-image-quality*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Default quality of saved jpg (values: 0.0 (lowest) - 1.0 (highest)</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Value</p></blockquote><pre><code class="hljs clojure">*jpeg-image-quality*
;;=&gt; 0.97</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L218">view source</a></div></div><div class="public anchor" id="var-*log-to-file*"><h3>*log-to-file*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Should <a href="clojure2d.core.html#var-log">log</a> save to file under <a href="clojure2d.core.html#var-log-name">log-name</a>. Print to terminal if <code>false</code> (default).</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2219">view source</a></div></div><div class="public anchor" id="var-alt-down.3F"><h3>alt-down?</h3><div class="usage"><code>(alt-down? e)</code></div><div class="doc"><div class="markdown"><p>ALT key state as boolean.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1565">view source</a></div></div><div class="public anchor" id="var-alt-gr-down.3F"><h3>alt-gr-down?</h3><div class="usage"><code>(alt-gr-down? e)</code></div><div class="doc"><div class="markdown"><p>ALT-GR key state as boolean.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1580">view source</a></div></div><div class="public anchor" id="var-arc"><h3>arc</h3><div class="usage"><code>(arc canvas x1 y1 w h start extent type stroke?)</code><code>(arc canvas x1 y1 w h start extent type)</code><code>(arc canvas x1 y1 w h start extent)</code></div><div class="doc"><div class="markdown"><p>Draw arc with middle at <code>(x,y)</code> position with width <code>w</code> and height <code>h</code>.</p>
<p>Starting angle <code>start</code> and <code>extent</code> are in radians. Direction is clockwise.</p>
<p>Type is one of the:</p>
<ul>
  <li><code>:open</code></li>
  <li><code>:pie</code></li>
  <li><code>:chord</code></li>
</ul></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Arcs</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-color :white)
                       (arc 60 60 90 90 m/PI m/HALF_PI)
                       (arc 70 70 90 90 m/PI m/HALF_PI :chord)
                       (arc 90 90 90 90 m/PI m/HALF_PI :pie)
                       (set-color :gray)
                       (arc 130 130 90 90 m/PI m/HALF_PI :open false)
                       (arc 150 150 90 90 m/PI m/HALF_PI :chord false)
                       (arc 170 170 90 90 m/PI m/HALF_PI :pie false)))
                 ...)</code></pre><img src="../images/core/fcc5162d31279abcc509dea9670bdef8.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L963">view source</a></div></div><div class="public anchor" id="var-available-cores"><h3>available-cores</h3><h4 class="dynamic">const</h4><div class="usage"></div><div><div class="markdown"><code class="hljs clojure">;;=&gt; 4</code></div></div><div class="doc"><div class="markdown"><p>How much processor cores are in system. Constant is machine dependant.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L209">view source</a></div></div><div class="public anchor" id="var-available-tasks"><h3>available-tasks</h3><h4 class="dynamic">const</h4><div class="usage"></div><div><div class="markdown"><code class="hljs clojure">;;=&gt; 6</code></div></div><div class="doc"><div class="markdown"><p>How much intensive tasks can we run. Which is 150% of available cores. Constant is machine dependant.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L212">view source</a></div></div><div class="public anchor" id="var-awt-xor-mode"><h3>awt-xor-mode</h3><div class="usage"><code>(awt-xor-mode canvas c)</code></div><div class="doc"><div class="markdown"><p>Set XOR graphics mode with <code>java.awt.Color</code>.</p>
<p>To revert call <a href="clojure2d.core.html#var-paint-mode">paint-mode</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Set Xor Mode with <code>java.awt.Color</code>.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (awt-xor-mode java.awt.Color/BLACK)
                       (rect 50 50 100 100)
                       (rect 70 70 60 60)))
                 ...)</code></pre><img src="../images/core/97db14955747872bc31b754cada96c1d.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1352">view source</a></div></div><div class="public anchor" id="var-bezier"><h3>bezier</h3><div class="usage"><code>(bezier canvas x1 y1 x2 y2 x3 y3 x4 y4 stroke?)</code><code>(bezier canvas x1 y1 x2 y2 x3 y3 x4 y4)</code></div><div class="doc"><div class="markdown"><p>Draw bezier curve with 4 sets of coordinates.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Bezier curve</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (bezier canvas 20 20 180 20 180 180 20 180 false)
                   (set-color canvas :black)
                   (bezier canvas 20 180 20 20 180 20 180 180))
                 ...)</code></pre><img src="../images/core/4aa2d14149fbcee022b6fd4a6d4a080e.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1160">view source</a></div></div><div class="public anchor" id="var-black-canvas"><h3>black-canvas</h3><div class="usage"><code>(black-canvas &amp; r)</code></div><div class="doc"><div class="markdown"><p>Create <a href="clojure2d.core.html#var-canvas">canvas</a> with black, opaque background.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L640">view source</a></div></div><div class="public anchor" id="var-canvas"><h3>canvas</h3><div class="usage"><code>(canvas width height hint font)</code><code>(canvas width height)</code><code>(canvas width height hint)</code></div><div class="doc"><div class="markdown"><p>Create and return Canvas with <code>width</code>, <code>height</code> and optionally quality hint name (keyword) and font name.</p>
<p>Default hint is <code>:high</code>. Default font is system one.</p>
<p>Canvas is an object which keeps everything needed to draw Java2d primitives on it. As a drawing buffer <code>BufferedImage</code> is used. To draw on Canvas directly wrap your functions with <a href="clojure2d.core.html#var-with-canvas">with-canvas</a> or <a href="clojure2d.core.html#var-with-canvas-.3E">with-canvas-&gt;</a> macros to create graphical context.</p>
<p>Canvas is transparent by default. See also <a href="clojure2d.core.html#var-black-canvas">black-canvas</a>.</p>
<p>Be aware that drawing on Canvas is single threaded.</p>
<p>Font you set while creating canvas will be default font. You can set another font in the code with <a href="clojure2d.core.html#var-set-font">set-font</a> and <a href="clojure2d.core.html#var-set-font-attributes">set-font-attributes</a> functions. However these set font temporary.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Canvas is the record.</p></blockquote><pre><code class="hljs clojure">(canvas 20 30 :low)
;;=&gt; #clojure2d.core.Canvas
;;=&gt;  {:arc-obj
;;=&gt;   #object[java.awt.geom.Arc2D$Double 0x7edef7f3 "java.awt.geom.Arc2D$Double@0"],
;;=&gt;   :buffer
;;=&gt;   #object[java.awt.image.BufferedImage 0x5bf4454c "BufferedImage@5bf4454c: type = 2 DirectColorModel: rmask=ff0000 gmask=ff00 bmask=ff amask=ff000000 IntegerInterleavedRaster: width = 20 height = 30 #Bands = 4 xOff = 0 yOff = 0 dataOffset[0] 0"],
;;=&gt;   :ellipse-obj
;;=&gt;   #object[java.awt.geom.Ellipse2D$Double 0x67227ad8 "java.awt.geom.Ellipse2D$Double@0"],
;;=&gt;   :font nil,
;;=&gt;   :graphics nil,
;;=&gt;   :h 30,
;;=&gt;   :hints
;;=&gt;   [[#object[sun.awt.SunHints$Key 0x7daef62d "Global antialiasing enable key"]
;;=&gt;     #object[sun.awt.SunHints$Value 0x66993e3d "Nonantialiased rendering mode"]]
;;=&gt;    [#object[sun.awt.SunHints$Key 0x153cca78 "Image interpolation method key"]
;;=&gt;     #object[sun.awt.SunHints$Value 0x22bfec22 "Nearest Neighbor image interpolation mode"]]
;;=&gt;    [#object[sun.awt.SunHints$Key 0x17e54304 "Alpha blending interpolation method key"]
;;=&gt;     #object[sun.awt.SunHints$Value 0x563fb617 "Fastest alpha blending methods"]]
;;=&gt;    [#object[sun.awt.SunHints$Key 0x4258816e "Color rendering quality key"]
;;=&gt;     #object[sun.awt.SunHints$Value 0x1befe955 "Fastest color rendering mode"]]
;;=&gt;    [#object[sun.awt.SunHints$Key 0x7a1a5608 "Global rendering quality key"]
;;=&gt;     #object[sun.awt.SunHints$Value 0x34a844c3 "Fastest rendering methods"]]
;;=&gt;    [#object[sun.awt.SunHints$Key 0x372bf2c5 "Fractional metrics enable key"]
;;=&gt;     #object[sun.awt.SunHints$Value 0x692b7088 "Integer text metrics mode"]]
;;=&gt;    [#object[sun.awt.SunHints$Key 0x370bada7 "Text-specific antialiasing enable key"]
;;=&gt;     #object[sun.awt.SunHints$Value 0x341f305d "Nonantialiased text mode"]]],
;;=&gt;   :line-obj
;;=&gt;   #object[java.awt.geom.Line2D$Double 0x428fecb4 "java.awt.geom.Line2D$Double@428fecb4"],
;;=&gt;   :rect-obj
;;=&gt;   #object[java.awt.geom.Rectangle2D$Double 0x6f06cfd7 "java.awt.geom.Rectangle2D$Double[x=0.0,y=0.0,w=0.0,h=0.0]"],
;;=&gt;   :transform-stack nil,
;;=&gt;   :w 20}</code></pre></div><div><blockquote><p>Check ImageProto on canvas.</p></blockquote><pre><code class="hljs clojure">(width (canvas 10 20))
;;=&gt; 10
(height (canvas 10 20))
;;=&gt; 20
(get-image (canvas 5 6))
;;=&gt; BufferedImage@549929fa: type = 2 DirectColorModel: rmask=ff0000 gmask=ff00 bmask=ff amask=ff000000 IntegerInterleavedRaster: width = 5 height = 6 #Bands = 4 xOff = 0 yOff = 0 dataOffset[0] 0
(width (resize (canvas 1 2) 15 15))
;;=&gt; 15
(height (subimage (canvas 10 10) 5 5 2 2))
;;=&gt; 2</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L600">view source</a></div></div><div class="public anchor" id="var-char-width"><h3>char-width</h3><div class="usage"><code>(char-width canvas chr)</code></div><div class="doc"><div class="markdown"><p>Returns font width from metrics. Should be called within graphical context.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Width of some chars.</p></blockquote><pre><code class="hljs clojure">(with-canvas [c (canvas 10 10)] [(char-width c \W) (char-width c \a)])
;;=&gt; [12 7]</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1261">view source</a></div></div><div class="public anchor" id="var-clip"><h3>clip</h3><div class="usage"><code>(clip canvas x y w h)</code></div><div class="doc"><div class="markdown"><p>Clip drawing to specified rectangle.</p>
<p>See also <a href="clojure2d.core.html#var-reset-clip">reset-clip</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Set clip region.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img]
                         (with-canvas-&gt; (canvas 150 150)
                                        (clip 20 20 100 100)
                                        (image img 0 0)))
                       ...)</code></pre><img src="../images/core/97ee3241bf291548d1bd3781e277d4a4.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L816">view source</a></div></div><div class="public anchor" id="var-close-session"><h3>close-session</h3><div class="usage"><code>(close-session)</code></div><div class="doc"><div class="markdown"><p>Close session via agent</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(session-name)
;;=&gt; ["20201029124430" "742C6E07"]
(close-session)
;;=&gt; nil
(session-name)
;;=&gt; ["20201029124430" "742C6E06"]</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2269">view source</a></div></div><div class="public anchor" id="var-close-window"><h3>close-window</h3><div class="usage"><code>(close-window window)</code></div><div class="doc"><div class="markdown"><p>Close window programmatically</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1895">view source</a></div></div><div class="public anchor" id="var-control-down.3F"><h3>control-down?</h3><div class="usage"><code>(control-down? e)</code></div><div class="doc"><div class="markdown"><p>CONTROL key state as boolean.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1560">view source</a></div></div><div class="public anchor" id="var-convolution-matrices"><h3>convolution-matrices</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Java ConvolveOp kernels. See <a href="clojure2d.core.html#var-convolve">convolve</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of kernels</p></blockquote><pre><code class="hljs clojure">(keys convolution-matrices)
;;=&gt; (:sobel-y :gradient-x :gaussian-blur-3
;;=&gt;           :sharpen :gaussian-blur-5
;;=&gt;           :edges-2 :gradient-y
;;=&gt;           :edges-3 :unsharp
;;=&gt;           :edges-4 :emboss
;;=&gt;           :box-blur :shadow
;;=&gt;           :sobel-x :edges-1)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L415">view source</a></div></div><div class="public anchor" id="var-convolve"><h3>convolve</h3><div class="usage"><code>(convolve i kernel)</code></div><div class="doc"><div class="markdown"><p>Convolve with Java ConvolveOp.</p>
<p>Kernel can be predefined as keywords or sequence of numbers (row-wise).</p>
<p>See <a href="clojure2d.core.html#var-convolution-matrices">convolution-matrices</a> for kernel names.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Convolve image with sobel-y kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :sobel-y)) ...)</code></pre><img src="../images/core/815d7dc1b62eed7a636c963a74fd22cb.jpg" /></div><div><blockquote><p>Convolve image with gradient-x kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :gradient-x)) ...)</code></pre><img src="../images/core/f9741db82155ea2da46b8b9d60ace7b2.jpg" /></div><div><blockquote><p>Convolve image with gaussian-blur-3 kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :gaussian-blur-3)) ...)</code></pre><img src="../images/core/2e692ae8643762fe2615a3ba2a0538e0.jpg" /></div><div><blockquote><p>Convolve image with sharpen kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :sharpen)) ...)</code></pre><img src="../images/core/9073fa624b50eca805748b6e6866a452.jpg" /></div><div><blockquote><p>Convolve image with gaussian-blur-5 kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :gaussian-blur-5)) ...)</code></pre><img src="../images/core/e5c5877b3f5bc7293b04282b176e3ed4.jpg" /></div><div><blockquote><p>Convolve image with edges-2 kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :edges-2)) ...)</code></pre><img src="../images/core/12d3c1b22935be18dc9beb66adcf1d9c.jpg" /></div><div><blockquote><p>Convolve image with gradient-y kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :gradient-y)) ...)</code></pre><img src="../images/core/1b9e26ef8758d59f57566086de52c5df.jpg" /></div><div><blockquote><p>Convolve image with edges-3 kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :edges-3)) ...)</code></pre><img src="../images/core/13dc284823320609a6a8800c3eacb445.jpg" /></div><div><blockquote><p>Convolve image with unsharp kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :unsharp)) ...)</code></pre><img src="../images/core/1a799a203f0a00dc8e0e271fdc704c43.jpg" /></div><div><blockquote><p>Convolve image with edges-4 kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :edges-4)) ...)</code></pre><img src="../images/core/c2a53b83abad2af187902487166734f0.jpg" /></div><div><blockquote><p>Convolve image with emboss kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :emboss)) ...)</code></pre><img src="../images/core/ad542eeb7df0f5114c0894de01659cfe.jpg" /></div><div><blockquote><p>Convolve image with box-blur kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :box-blur)) ...)</code></pre><img src="../images/core/cde19785363cd0cbda7f518b7bd29ca5.jpg" /></div><div><blockquote><p>Convolve image with shadow kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :shadow)) ...)</code></pre><img src="../images/core/d6803ecc9c9b396966fd0724a480e55e.jpg" /></div><div><blockquote><p>Convolve image with sobel-x kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :sobel-x)) ...)</code></pre><img src="../images/core/f3f4ebc99cb7f6e42527dbfa4e4010b4.jpg" /></div><div><blockquote><p>Convolve image with edges-1 kernel.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (convolve img :edges-1)) ...)</code></pre><img src="../images/core/cd53d78cdfdf226e525ac83f7587b4eb.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2360">view source</a></div></div><div class="public anchor" id="var-crect"><h3>crect</h3><div class="usage"><code>(crect canvas x y w h stroke?)</code><code>(crect canvas x y w h)</code></div><div class="doc"><div class="markdown"><p>Centered version of <a href="clojure2d.core.html#var-rect">rect</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Two squares, regular and centered.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-color :white 160)
                       (rect 50 50 100 100)
                       (crect 50 50 60 60)))
                 ...)</code></pre><img src="../images/core/e31ed99d3f9d58280d3eeb37f62a0bc5.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L941">view source</a></div></div><div class="public anchor" id="var-curve"><h3>curve</h3><div class="usage"><code>(curve canvas x1 y1 x2 y2 x3 y3 stroke?)</code><code>(curve canvas x1 y1 x2 y2 x3 y3)</code></div><div class="doc"><div class="markdown"><p>Draw quadratic curve with 3 sets of coordinates.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Quadratic curve</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (curve canvas 20 20 180 20 180 180 false)
                   (set-color canvas :black)
                   (curve canvas 20 180 20 20 180 20))
                 ...)</code></pre><img src="../images/core/2a9d169b9823a6e6233635721f40158d.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1172">view source</a></div></div><div class="public anchor" id="var-datetime"><h3>datetime</h3><div class="usage"><code>(datetime type-of-array)</code><code>(datetime)</code></div><div class="doc"><div class="markdown"><p>Date time values in the array. Optional parameter :vector or :hashmap (default) to indicate what to return.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Current value</p></blockquote><pre><code class="hljs clojure">(datetime)
;;=&gt; {:day 29,
;;=&gt;  :hour 12,
;;=&gt;  :millis 1603971870748,
;;=&gt;  :minute 44,
;;=&gt;  :month 10,
;;=&gt;  :nanos 149974035207870,
;;=&gt;  :sec 30,
;;=&gt;  :second 30,
;;=&gt;  :year 2020}
(datetime :vector)
;;=&gt; [2020 10 29 12 44 30 1603971870748 149974035575670]</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2166">view source</a></div></div><div class="public anchor" id="var-day"><h3>day</h3><div class="usage"><code>(day)</code></div><div class="doc"><div class="markdown"><p>Current day</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Current value</p></blockquote><pre><code class="hljs clojure">(day)
;;=&gt; 29</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2160">view source</a></div></div><div class="public anchor" id="var-double-array-2d"><h3>double-array-2d</h3><div class="usage"><code>(double-array-2d sizex sizey)</code></div><div class="doc"><div class="markdown"><p>Create 2d int array getter and setter methods. Array is mutable!</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2331">view source</a></div></div><div class="public anchor" id="var-ellipse"><h3>ellipse</h3><div class="usage"><code>(ellipse canvas x1 y1 w h stroke?)</code><code>(ellipse canvas x1 y1 w h)</code></div><div class="doc"><div class="markdown"><p>Draw ellipse with middle at <code>(x,y)</code> position with width <code>w</code> and height <code>h</code>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>A couple of ellipses.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-color :white 200)
                       (ellipse 100 100 50 150)
                       (ellipse 100 100 150 50 true)
                       (ellipse 100 100 20 20)
                       (set-color :black 200)
                       (ellipse 100 100 20 20 true)))
                 ...)</code></pre><img src="../images/core/52b4746b714ea2645e2e59f713a4cfbb.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L952">view source</a></div></div><div class="public anchor" id="var-ensure-session"><h3>ensure-session</h3><div class="usage"><code>(ensure-session)</code></div><div class="doc"><div class="markdown"><p>Ensure that session is active (create one if not)</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2275">view source</a></div></div><div class="public anchor" id="var-file-extension"><h3>file-extension</h3><div class="usage"><code>(file-extension filename)</code></div><div class="doc"><div class="markdown"><p>Extract extension from filename.</p>
<ul>
  <li>Input: image filename</li>
  <li>Returns extension (without dot)</li>
</ul></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(file-extension "image.png")
;;=&gt; png
(file-extension "no_extension")
;;=&gt; nil
(file-extension "with.path/file.doc")
;;=&gt; doc</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L266">view source</a></div></div><div class="public anchor" id="var-filled-with-stroke"><h3>filled-with-stroke</h3><h4 class="type">macro</h4><div class="usage"><code>(filled-with-stroke canvas color-filled color-stroke primitive-fn &amp; attrs)</code></div><div class="doc"><div class="markdown"><p>Draw primitive filled and with stroke.</p>
<p>Provide two colors, one for fill (<code>color-filled</code>), second for stroke (<code>color-stroke</code>). <code>primitive-fn</code> is a primitive function and <code>attrs</code> are function parameters. Do not provide.</p>
<p>One note: current color is replaced with <code>color-stroke</code>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Draw two primitives</p></blockquote><pre><code class="hljs clojure">(drawing-snippet
 (fn [canvas]
   (-&gt; canvas
       (filled-with-stroke :maroon :black crect 100 100 180 180)
       (filled-with-stroke 3359999 :white ellipse 100 100 20 100)))
 ...)</code></pre><img src="../images/core/a4a3f9a81cb94eac8f3ef0f0e42ac9c8.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1416">view source</a></div></div><div class="public anchor" id="var-flat-hex"><h3>flat-hex</h3><div class="usage"><code>(flat-hex canvas x y size stroke?)</code><code>(flat-hex canvas x y size)</code></div><div class="doc"><div class="markdown"><p>Draw flat topped hex.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Flat topped hexagon</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (flat-hex canvas 100 100 20)
                   (flat-hex canvas 100 100 90 true))
                 ...)</code></pre><img src="../images/core/6d5a92162fe23f5c25f33481a612a253.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1210">view source</a></div></div><div class="public anchor" id="var-flip-x"><h3>flip-x</h3><div class="usage"><code>(flip-x canvas)</code></div><div class="doc"><div class="markdown"><p>Flip canvas over x axis</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Flip around vertical axis</p></blockquote><pre><code class="hljs clojure">(process-image-snippet
 (fn [img] (with-canvas-&gt; (canvas 150 150) (flip-x) (image img -150 0)))
 ...)</code></pre><img src="../images/core/826dc37b3de57e55862e57040b0ac17c.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L663">view source</a></div></div><div class="public anchor" id="var-flip-y"><h3>flip-y</h3><div class="usage"><code>(flip-y canvas)</code></div><div class="doc"><div class="markdown"><p>Flip canvas over y axis</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Flip around horizontal axis</p></blockquote><pre><code class="hljs clojure">(process-image-snippet
 (fn [img] (with-canvas-&gt; (canvas 150 150) (flip-y) (image img 0 -150)))
 ...)</code></pre><img src="../images/core/5db84ef9e879ff2e94b32c17acc33703.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L669">view source</a></div></div><div class="public anchor" id="var-flush-graphics"><h3>flush-graphics</h3><div class="usage"><code>(flush-graphics canvas)</code></div><div class="doc"><div class="markdown"><p>Dispose current <code>Graphics2D</code></p>
<p>Do not use directly. Call <a href="clojure2d.core.html#var-with-canvas-.3E">with-canvas-&gt;</a> or <a href="clojure2d.core.html#var-with-canvas">with-canvas</a> macros.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L539">view source</a></div></div><div class="public anchor" id="var-font-ascent"><h3>font-ascent</h3><div class="usage"><code>(font-ascent canvas)</code></div><div class="doc"><div class="markdown"><p>Returns font width from metrics. Should be called within context.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Ascent of current font.</p></blockquote><pre><code class="hljs clojure">(with-canvas-&gt; (canvas 10 10) (font-ascent))
;;=&gt; 12</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1273">view source</a></div></div><div class="public anchor" id="var-font-height"><h3>font-height</h3><div class="usage"><code>(font-height canvas)</code></div><div class="doc"><div class="markdown"><p>Returns font width from metrics. Should be called within context.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Height of current font.</p></blockquote><pre><code class="hljs clojure">(with-canvas-&gt; (canvas 10 10) (font-height))
;;=&gt; 15</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1267">view source</a></div></div><div class="public anchor" id="var-fonts-list"><h3>fonts-list</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of all available font names.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>First five availabe fonts</p></blockquote><pre><code class="hljs clojure">(take 5 fonts-list)
;;=&gt; ("Accanthis ADF Std"
;;=&gt;  "Accanthis ADF Std No2"
;;=&gt;  "Accanthis ADF Std No3"
;;=&gt;  "Andale Mono"
;;=&gt;  "AR PL KaitiM Big5")</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1232">view source</a></div></div><div class="public anchor" id="var-get-canvas"><h3>get-canvas</h3><div class="usage"><code>(get-canvas window)</code></div><div class="doc"><div class="markdown"><p>Returns canvas bound to <code>window</code>.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2049">view source</a></div></div><div class="public anchor" id="var-get-image"><h3>get-image</h3><div class="usage"><code>(get-image i)</code></div><div class="doc"><div class="markdown"><p>Return BufferedImage</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2340">view source</a></div></div><div class="public anchor" id="var-get-state"><h3>get-state</h3><div class="usage"><code>(get-state window)</code></div><div class="doc"><div class="markdown"><p>Get state from window</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1690">view source</a></div></div><div class="public anchor" id="var-gradient-mode"><h3>gradient-mode</h3><div class="usage"><code>(gradient-mode canvas x1 y1 color1 x2 y2 color2)</code></div><div class="doc"><div class="markdown"><p>Set paint mode to gradient.</p>
<p>To revert call <a href="clojure2d.core.html#var-paint-mode">paint-mode</a></p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Set some gradient and fill</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (gradient-mode 20 20 :maroon 180 180 :black)
                       (ellipse 100 100 190 190)))
                 ...)</code></pre><img src="../images/core/15831963d6231b5ba79d7bdc80cea506.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1432">view source</a></div></div><div class="public anchor" id="var-grid-cell"><h3>grid-cell</h3><div class="usage"><code>(grid-cell canvas grid x y stroke?)</code><code>(grid-cell canvas grid x y)</code><code>(grid-cell canvas grid x y scale stroke?)</code></div><div class="doc"><div class="markdown"><p>Draw grid cell for given grid.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Draw on square grid</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (let [g (grid/grid :square 15)]
                     (dotimes [_ 100]
                       (let [x (r/drand 200)
                             y (r/drand 200)]
                         (filled-with-stroke canvas
                                             (c/color :white 100)
                                             :maroon
                                             grid-cell
                                             g
                                             x
                                             y)))))
                 ...)</code></pre><img src="../images/core/4e8e950ab1d0d030ddbaa7f5aa9d93a7.jpg" /></div><div><blockquote><p>Draw on shifted-square grid</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (let [g (grid/grid :shifted-square 15)]
                     (dotimes [_ 100]
                       (let [x (r/drand 200)
                             y (r/drand 200)]
                         (filled-with-stroke canvas
                                             (c/color :white 100)
                                             :maroon
                                             grid-cell
                                             g
                                             x
                                             y)))))
                 ...)</code></pre><img src="../images/core/082a29843515dd7bcb0352725d8805a3.jpg" /></div><div><blockquote><p>Draw on rhomboidal grid</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (let [g (grid/grid :rhombus 15)]
                     (dotimes [_ 100]
                       (let [x (r/drand 200)
                             y (r/drand 200)]
                         (filled-with-stroke canvas
                                             (c/color :white 100)
                                             :maroon
                                             grid-cell
                                             g
                                             x
                                             y)))))
                 ...)</code></pre><img src="../images/core/ae27540ceec1f11ad15b3898fa4384dc.jpg" /></div><div><blockquote><p>Draw on triangular grid</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (let [g (grid/grid :triangle 15)]
                     (dotimes [_ 100]
                       (let [x (r/drand 200)
                             y (r/drand 200)]
                         (filled-with-stroke canvas
                                             (c/color :white 100)
                                             :maroon
                                             grid-cell
                                             g
                                             x
                                             y)))))
                 ...)</code></pre><img src="../images/core/6a99664a15652f72b457f39840ef434a.jpg" /></div><div><blockquote><p>Draw on flat topped hexagonal grid</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (let [g (grid/grid :flat-hex 15)]
                     (dotimes [_ 100]
                       (let [x (r/drand 200)
                             y (r/drand 200)]
                         (filled-with-stroke canvas
                                             (c/color :white 100)
                                             :maroon
                                             grid-cell
                                             g
                                             x
                                             y)))))
                 ...)</code></pre><img src="../images/core/fd3992ca6e6889e3b3e67f51d5414adf.jpg" /></div><div><blockquote><p>Draw on pointy topped hexagonal grid</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (let [g (grid/grid :pointy-hex 15)]
                     (dotimes [_ 100]
                       (let [x (r/drand 200)
                             y (r/drand 200)]
                         (filled-with-stroke canvas
                                             (c/color :white 100)
                                             :maroon
                                             grid-cell
                                             g
                                             x
                                             y)))))
                 ...)</code></pre><img src="../images/core/97d24bbabab800b7310768aec807a0a2.jpg" /></div><div><blockquote><p>Draw on hexagonal grid with random size</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (let [g (grid/grid :flat-hex 15)]
                     (dotimes [_ 100]
                       (let [x (r/drand 200)
                             y (r/drand 200)
                             s (r/drand 0.1 1.0)]
                         (filled-with-stroke canvas
                                             (c/color :white 100)
                                             :maroon
                                             grid-cell
                                             g
                                             x
                                             y
                                             s)))))
                 ...)</code></pre><img src="../images/core/aba44ee38324abc59ad39714af7bbc9a.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1220">view source</a></div></div><div class="public anchor" id="var-height"><h3>height</h3><div class="usage"><code>(height i)</code></div><div class="doc"><div class="markdown"><p>height of the image.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Height of the image</p></blockquote><pre><code class="hljs clojure">(height (load-image "docs/cockatoo.jpg"))
;;=&gt; 150</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2350">view source</a></div></div><div class="public anchor" id="var-hour"><h3>hour</h3><div class="usage"><code>(hour)</code></div><div class="doc"><div class="markdown"><p>Current hour</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Current value</p></blockquote><pre><code class="hljs clojure">(hour)
;;=&gt; 12</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2161">view source</a></div></div><div class="public anchor" id="var-image"><h3>image</h3><div class="usage"><code>(image canvas img x y w h)</code><code>(image canvas img)</code><code>(image canvas img x y)</code></div><div class="doc"><div class="markdown"><p>Draw an image.</p>
<p>You can specify position and size of the image. Default it’s placed on whole canvas.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Draw image at given position.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (let [img (load-image "docs/cockatoo.jpg")]
                     (doseq [x (range 0 80 10)]
                       (image canvas img x x (- 200 x x) (- 200 x x)))))
                 ...)</code></pre><img src="../images/core/bcaeae4d4a6b39d6097d458e47276a32.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1469">view source</a></div></div><div class="public anchor" id="var-img-reader-formats"><h3>img-reader-formats</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Supported readable image formats. Machine/configuration dependant.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Set of readable image formats</p></blockquote><pre><code class="hljs clojure">img-reader-formats
;;=&gt; #{"bmp" "gif" "jpeg" "jpg" "png" "tif" "tiff" "wbmp"}</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L320">view source</a></div></div><div class="public anchor" id="var-img-writer-formats"><h3>img-writer-formats</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Supported writable image formats. Machine/configuration dependant.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Set of writable image formats</p></blockquote><pre><code class="hljs clojure">img-writer-formats
;;=&gt; #{"bmp" "gif" "jpeg" "jpg" "png" "tif" "tiff" "wbmp"}</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L315">view source</a></div></div><div class="public anchor" id="var-int-array-2d"><h3>int-array-2d</h3><div class="usage"><code>(int-array-2d sizex sizey)</code></div><div class="doc"><div class="markdown"><p>Create 2d int array getter and setter methods. Array is mutable!</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2317">view source</a></div></div><div class="public anchor" id="var-inv-transform"><h3>inv-transform</h3><div class="usage"><code>(inv-transform canvas x y)</code><code>(inv-transform canvas [x y])</code></div><div class="doc"><div class="markdown"><p>Inverse transform of given point or coordinates with current transformation. See <a href="clojure2d.core.html#var-transform">transform</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Inverse transform of point using current transformation.</p></blockquote><pre><code class="hljs clojure">(with-canvas [c (canvas 100 100)]
             (translate c 50 50)
             (rotate c m/HALF_PI)
             (inv-transform c 40 60))
;;=&gt; [10.0 10.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L729">view source</a></div></div><div class="public anchor" id="var-key-char"><h3>key-char</h3><div class="usage"><code>(key-char e)</code></div><div class="doc"><div class="markdown"><p>Key as char.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1550">view source</a></div></div><div class="public anchor" id="var-key-code"><h3>key-code</h3><div class="usage"><code>(key-code e)</code></div><div class="doc"><div class="markdown"><p>Keycode mapped to keyword. See <code>java.awt.event.KeyEvent</code> documentation. Eg. <code>VK_LEFT</code> is mapped to <code>:left</code>.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1545">view source</a></div></div><div class="public anchor" id="var-key-event"><h3>key-event</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Called on key event</p>
<ul>
  <li>Dispatch: vector of window name and key event. See <a href="clojure2d.core.html#var-key-event-map">key-event-map</a>.</li>
  <li>Params: key event and current state.</li>
</ul>
<p>Should return state.</p>
<pre><code>(defmethod key-event ["My window name" :key-pressed] [event state]
  ;; do something when 'up' is typed
  (when (= :up (key-code event)) (do-something))
  state)
</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1786">view source</a></div></div><div class="public anchor" id="var-key-event-map"><h3>key-event-map</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Map of supported key events</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of key events</p></blockquote><pre><code class="hljs clojure">(vals key-event-map)
;;=&gt; (:key-pressed :key-released :key-typed)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1781">view source</a></div></div><div class="public anchor" id="var-key-pressed"><h3>key-pressed</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Called when key is pressed.</p>
<ul>
  <li>Dispatch: vector of window name and key char</li>
  <li>Params: key event and current state.</li>
</ul>
<p>Should return state.</p>
<pre><code>(defmethod key-pressed ["My window name" \c] [event state]
  ;; do something when 'c' is pressed
  (assoc state :some (calculate-something state)))
</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1723">view source</a></div></div><div class="public anchor" id="var-key-pressed.3F"><h3>key-pressed?</h3><div class="usage"><code>(key-pressed? w)</code></div><div class="doc"><div class="markdown"><p>Any key pressed? (boolean)</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1585">view source</a></div></div><div class="public anchor" id="var-key-raw"><h3>key-raw</h3><div class="usage"><code>(key-raw e)</code></div><div class="doc"><div class="markdown"><p>Raw value for pressed key (as integer).</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1555">view source</a></div></div><div class="public anchor" id="var-key-released"><h3>key-released</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Called when key is released.</p>
<ul>
  <li>Dispatch: vector of window name and key char</li>
  <li>Params: key event and current state.</li>
</ul>
<p>Should return state.</p>
<pre><code>(defmethod key-released ["My window name" \c] [event state]
  ;; do something after 'c' is released
  (assoc state :some (calculate-something state)))
</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1742">view source</a></div></div><div class="public anchor" id="var-key-typed"><h3>key-typed</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Called when key is typed (pressed and released).</p>
<ul>
  <li>Dispatch: vector of window name and key char</li>
  <li>Params: key event and current state.</li>
</ul>
<p>Should return state.</p>
<pre><code>(defmethod key-typed ["My window name" \c] [event state]
  ;; do something when 'c' is typed
  (assoc state :some (calculate-something state)))
</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1761">view source</a></div></div><div class="public anchor" id="var-line"><h3>line</h3><div class="usage"><code>(line canvas x1 y1 x2 y2)</code><code>(line canvas vect1 vect2)</code></div><div class="doc"><div class="markdown"><p>Draw line from point <code>(x1,y1)</code> to <code>(x2,y2)</code></p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Draw some lines</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (doseq [x (range 10 190 10)]
                     (line canvas x 10 (- 190 x) 190)))
                 ...)</code></pre><img src="../images/core/88fa3e3a3afda0afd61035eefe58de11.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L836">view source</a></div></div><div class="public anchor" id="var-load-bytes"><h3>load-bytes</h3><div class="usage"><code>(load-bytes file)</code></div><div class="doc"><div class="markdown"><p>Load file and return byte array.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Load image file to byte array</p></blockquote><pre><code class="hljs clojure">(load-bytes "docs/cockatoo.jpg")
;;=&gt; [B@7b6c94e2
(second (load-bytes "docs/cockatoo.jpg"))
;;=&gt; -40</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2180">view source</a></div></div><div class="public anchor" id="var-load-image"><h3>load-image</h3><div class="usage"><code>(load-image filename)</code></div><div class="doc"><div class="markdown"><p>Load Image from file.</p>
<ul>
  <li>Input: Image filename with absolute or relative path (relative to your project folder)</li>
  <li>Returns BufferedImage object or nil when Image can’t be loaded.</li>
</ul>
<p>For supported formats check <a href="clojure2d.core.html#var-img-reader-formats">img-reader-formats</a>.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L234">view source</a></div></div><div class="public anchor" id="var-load-svg"><h3>load-svg</h3><div class="usage"><code>(load-svg svg-filename)</code></div><div class="doc"><div class="markdown"><p>Load image into Batik Document. See <a href="clojure2d.core.html#var-transcode-svg">transcode-svg</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Load SVG into Batik object</p></blockquote><pre><code class="hljs clojure">(load-svg "docs/takkun.svg")
;;=&gt; org.apache.batik.transcoder.TranscoderInput@750b0eb0</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1484">view source</a></div></div><div class="public anchor" id="var-load-url-image"><h3>load-url-image</h3><div class="usage"><code>(load-url-image url)</code></div><div class="doc"><div class="markdown"><p>Load image from given URL</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L247">view source</a></div></div><div class="public anchor" id="var-log"><h3>log</h3><div class="usage"><code>(log message)</code></div><div class="doc"><div class="markdown"><p>Log message to file or console</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Example usage</p></blockquote><pre><code class="hljs clojure">(session-name)
;;=&gt; ["20201029124430" "742C6E06"]
(binding [*log-to-file* true]
  (log "Log information to file under session"))
;;=&gt; #clojure2d.core.SessionType
;;=&gt;  {:counter #<fn@526607ec clojure2d.core="" ake_counter[fn]="">,
;;=&gt;   :logger
;;=&gt;   #object[java.io.BufferedWriter 0x7f35ed9e "java.io.BufferedWriter@7f35ed9e"],
;;=&gt;   :name ["20201029124430" "742C6E06"]}
(Thread/sleep 1000)
;;=&gt; nil
(slurp (log-name))
;;=&gt; Session id: 742C6E06
;;=&gt; 
;;=&gt; 2020-10-29 12:44:31: Log information to file under session</fn@526607ec></code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2299">view source</a></div></div><div class="public anchor" id="var-log-name"><h3>log-name</h3><div class="usage"><code>(log-name)</code></div><div class="doc"><div class="markdown"><p>Returns log file name with path.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(log-name)
;;=&gt; log/20201029124430.log</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2239">view source</a></div></div><div class="public anchor" id="var-long-array-2d"><h3>long-array-2d</h3><div class="usage"><code>(long-array-2d sizex sizey)</code></div><div class="doc"><div class="markdown"><p>Create 2d int array getter and setter methods. Array is mutable!</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2324">view source</a></div></div><div class="public anchor" id="var-make-counter"><h3>make-counter</h3><div class="usage"><code>(make-counter v)</code><code>(make-counter)</code></div><div class="doc"><div class="markdown"><p>Create counter function, each call returns next number.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cnt (make-counter)] (repeatedly 5 cnt))
;;=&gt; (0 1 2 3 4)
(let [cnt (make-counter 100)] (repeatedly 5 cnt))
;;=&gt; (100 101 102 103 104)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2196">view source</a></div></div><div class="public anchor" id="var-make-graphics"><h3>make-graphics</h3><div class="usage"><code>(make-graphics canvas)</code></div><div class="doc"><div class="markdown"><p>Create new <code>Graphics2D</code> object and set rendering hints.</p>
<p>Do not use directly. Call <a href="clojure2d.core.html#var-with-canvas-.3E">with-canvas-&gt;</a> or <a href="clojure2d.core.html#var-with-canvas">with-canvas</a> macros.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L546">view source</a></div></div><div class="public anchor" id="var-make-session"><h3>make-session</h3><div class="usage"><code>(make-session)</code></div><div class="doc"><div class="markdown"><p>Create session via agent</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(make-session)
;;=&gt; ["20201029124432" "742C772A"]
(Thread/sleep 2000)
;;=&gt; nil
(make-session)
;;=&gt; ["20201029124434" "742C7F5A"]</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2262">view source</a></div></div><div class="public anchor" id="var-meta-down.3F"><h3>meta-down?</h3><div class="usage"><code>(meta-down? e)</code></div><div class="doc"><div class="markdown"><p>META key state as boolean.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1570">view source</a></div></div><div class="public anchor" id="var-millis"><h3>millis</h3><div class="usage"><code>(millis)</code></div><div class="doc"><div class="markdown"><p>Milliseconds from epoch</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Current value</p></blockquote><pre><code class="hljs clojure">(millis)
;;=&gt; 1603971874353</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2164">view source</a></div></div><div class="public anchor" id="var-minute"><h3>minute</h3><div class="usage"><code>(minute)</code></div><div class="doc"><div class="markdown"><p>Current minute</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Current value</p></blockquote><pre><code class="hljs clojure">(minute)
;;=&gt; 44</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2162">view source</a></div></div><div class="public anchor" id="var-month"><h3>month</h3><div class="usage"><code>(month)</code></div><div class="doc"><div class="markdown"><p>Current month</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Current value</p></blockquote><pre><code class="hljs clojure">(month)
;;=&gt; 10</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2159">view source</a></div></div><div class="public anchor" id="var-mouse-button"><h3>mouse-button</h3><div class="usage"><code>(mouse-button m)</code></div><div class="doc"><div class="markdown"><p>Get mouse pressed button status: :left :right :center or :none</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1540">view source</a></div></div><div class="public anchor" id="var-mouse-event"><h3>mouse-event</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Called on mouse event</p>
<ul>
  <li>Dispatch: vector of window name and mouse event. See <a href="clojure2d.core.html#var-mouse-event-map">mouse-event-map</a>.</li>
  <li>Params: key event and current state.</li>
</ul>
<p>Should return state.</p>
<pre><code>(defmethod mouse-event ["My window name" :mouse-pressed] [event state]
  ;; do something when button is pressed
  (do-something)
  state)
</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1815">view source</a></div></div><div class="public anchor" id="var-mouse-event-map"><h3>mouse-event-map</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Map of supported mouse events</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of mouse events</p></blockquote><pre><code class="hljs clojure">(vals mouse-event-map)
;;=&gt; (:mouse-clicked :mouse-dragged :mouse-pressed
;;=&gt;                 :mouse-released :mouse-moved)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1806">view source</a></div></div><div class="public anchor" id="var-mouse-in-window.3F"><h3>mouse-in-window?</h3><div class="usage"><code>(mouse-in-window? window)</code></div><div class="doc"><div class="markdown"><p>Check if mouse is inside window.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1677">view source</a></div></div><div class="public anchor" id="var-mouse-pos"><h3>mouse-pos</h3><div class="usage"><code>(mouse-pos m)</code></div><div class="doc"><div class="markdown"><p>Mouse position as <a href="null">Vec2</a> type. [0,0] - top left, [-1,-1] outside window.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1535">view source</a></div></div><div class="public anchor" id="var-mouse-pressed.3F"><h3>mouse-pressed?</h3><div class="usage"><code>(mouse-pressed? w)</code></div><div class="doc"><div class="markdown"><p>Any mouse button pressed? (boolean)</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1590">view source</a></div></div><div class="public anchor" id="var-mouse-x"><h3>mouse-x</h3><div class="usage"><code>(mouse-x m)</code></div><div class="doc"><div class="markdown"><p>Mouse horizontal position within window. 0 - left side. -1 outside window.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1525">view source</a></div></div><div class="public anchor" id="var-mouse-y"><h3>mouse-y</h3><div class="usage"><code>(mouse-y m)</code></div><div class="doc"><div class="markdown"><p>Mouse vertical position within window. 0 - left side. -1 outside window.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1530">view source</a></div></div><div class="public anchor" id="var-nanos"><h3>nanos</h3><div class="usage"><code>(nanos)</code></div><div class="doc"><div class="markdown"><p>JVM running time in nanoseconds</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Current value</p></blockquote><pre><code class="hljs clojure">(nanos)
;;=&gt; 149977649383470</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2165">view source</a></div></div><div class="public anchor" id="var-next-filename"><h3>next-filename</h3><div class="usage"><code>(next-filename prefix)</code><code>(next-filename prefix suffix)</code></div><div class="doc"><div class="markdown"><p>Create next unique filename based on session</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(next-filename "folder/name/")
;;=&gt; folder/name/742C7F5A_000000
(next-filename "folder/name/")
;;=&gt; folder/name/742C7F5A_000001
(next-filename "folder/name/" ".jpg")
;;=&gt; folder/name/742C7F5A_000002.jpg
(close-session)
;;=&gt; nil
(next-filename "folder/name/")
;;=&gt; folder/name/742C7F4E_000000
(next-filename "folder/name/")
;;=&gt; folder/name/742C7F4E_000001
(next-filename "folder/name/" ".jpg")
;;=&gt; folder/name/742C7F4E_000002.jpg</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2289">view source</a></div></div><div class="public anchor" id="var-orient-canvas"><h3>orient-canvas</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Place origin into one of four window corners and reorient axes.</p>
<ul>
  <li><code>-</code> as suffix - means default orientation (y-axis reversed)</li>
  <li><code>+</code> as suffix - means usual (mathematical) orientation (y-axis not reversed).</li>
</ul></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>top-left-, default</p></blockquote><pre><code class="hljs clojure">(draw-on-oriented-canvas :top-left- ...)</code></pre><img src="../images/core/fd6f28c55b38300ee2c002bd52611873.jpg" /></div><div><blockquote><p>top-left+</p></blockquote><pre><code class="hljs clojure">(draw-on-oriented-canvas :top-left+ ...)</code></pre><img src="../images/core/286d291977c5ae7eca4a00f8937b9e36.jpg" /></div><div><blockquote><p>top-right-</p></blockquote><pre><code class="hljs clojure">(draw-on-oriented-canvas :top-right- ...)</code></pre><img src="../images/core/88b958c5be5c1c21e752a4d9c4f0b75c.jpg" /></div><div><blockquote><p>top-right+</p></blockquote><pre><code class="hljs clojure">(draw-on-oriented-canvas :top-right+ ...)</code></pre><img src="../images/core/b0e34e1c4137a1b8d35921d3d9a2dba1.jpg" /></div><div><blockquote><p>bottom-left-</p></blockquote><pre><code class="hljs clojure">(draw-on-oriented-canvas :bottom-left- ...)</code></pre><img src="../images/core/085dd49175efd9d8aa35f279d129266c.jpg" /></div><div><blockquote><p>bottom-left+</p></blockquote><pre><code class="hljs clojure">(draw-on-oriented-canvas :bottom-left+ ...)</code></pre><img src="../images/core/d8f853badf3d02dddbb2b75509e66f24.jpg" /></div><div><blockquote><p>bottom-right-</p></blockquote><pre><code class="hljs clojure">(draw-on-oriented-canvas :bottom-right- ...)</code></pre><img src="../images/core/837bf56645a1a7cb543bee9733ed1115.jpg" /></div><div><blockquote><p>bottom-right+</p></blockquote><pre><code class="hljs clojure">(draw-on-oriented-canvas :bottom-right+ ...)</code></pre><img src="../images/core/717cf4bea9b8cc24dd5af75f9df25f14.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L747">view source</a></div></div><div class="public anchor" id="var-orientations-list"><h3>orientations-list</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of orientations</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of orientations</p></blockquote><pre><code class="hljs clojure">orientations-list
;;=&gt; (:bottom-left+ :bottom-left-
;;=&gt;                :bottom-right+ :bottom-right-
;;=&gt;                :top-left+ :top-left-
;;=&gt;                :top-right+ :top-right-)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L795">view source</a></div></div><div class="public anchor" id="var-paint-mode"><h3>paint-mode</h3><div class="usage"><code>(paint-mode canvas)</code></div><div class="doc"><div class="markdown"><p>Set normal paint mode.</p>
<p>This is default mode.</p>
<p>See <a href="clojure2d.core.html#var-gradient-mode">gradient-mode</a> or <a href="clojure2d.core.html#var-xor-mode">xor-mode</a> for other types.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1389">view source</a></div></div><div class="public anchor" id="var-path"><h3>path</h3><div class="usage"><code>(path canvas vs close? stroke?)</code><code>(path canvas vs close?)</code><code>(path canvas vs)</code></div><div class="doc"><div class="markdown"><p>Draw path from lines.</p>
<p>Input: list of points as vectors, close? - close path or not (default: false), stroke? - draw lines or filled shape (default true - lines).</p>
<p>See also <a href="clojure2d.core.html#var-path-bezier">path-bezier</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Path</p></blockquote><pre><code class="hljs clojure">(drawing-snippet
 (fn [canvas]
   (set-color canvas :white 190)
   (translate canvas 100 100)
   (let [s (for [a (range 0 65 1.3)]
             (v/vec2 (* (+ a 25) (m/cos a)) (* (+ a 25) (m/sin a))))]
     (path canvas s)))
 ...)</code></pre><img src="../images/core/962ae99528635b4580ab39adb543a592.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1072">view source</a></div></div><div class="public anchor" id="var-path-bezier"><h3>path-bezier</h3><div class="usage"><code>(path-bezier canvas vs close? stroke?)</code><code>(path-bezier canvas vs close?)</code><code>(path-bezier canvas vs)</code></div><div class="doc"><div class="markdown"><p>Draw path from quad curves.</p>
<p>Input: list of points as vectors, close? - close path or not (default: false), stroke? - draw lines or filled shape (default true - lines).</p>
<p>See also <a href="clojure2d.core.html#var-path">path</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Bezier path</p></blockquote><pre><code class="hljs clojure">(drawing-snippet
 (fn [canvas]
   (set-color canvas :white 190)
   (translate canvas 100 100)
   (let [s (for [a (range 0 65 1.3)]
             [(* (+ a 25) (m/cos a)) (* (+ a 25) (m/sin a))])]
     (path-bezier canvas s)))
 ...)</code></pre><img src="../images/core/08eef3b8abe17f36a383ac6c9c680889.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1117">view source</a></div></div><div class="public anchor" id="var-pattern-mode"><h3>pattern-mode</h3><div class="usage"><code>(pattern-mode canvas image)</code><code>(pattern-mode canvas image w h)</code><code>(pattern-mode canvas image anchor-x anchor-y w h)</code></div><div class="doc"><div class="markdown"><p>Set paint mode to pattern.</p>
<p>Default anchor is set to <code>(0,0)</code>. Default width and height are the same as texture dimensions.</p>
<p>To revert call <a href="clojure2d.core.html#var-paint-mode">paint-mode</a></p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Set some pattern and fill</p></blockquote><pre><code class="hljs clojure">(drawing-snippet
 (fn [canvas]
   (let
     [i
      (load-url-image
       "http://static.colourlovers.com/images/patterns/465/465753.png")]
     (-&gt; canvas
         (pattern-mode i)
         (ellipse 100 100 190 190))))
 ...)</code></pre><img src="../images/core/f0c5759291dc50abcc49e3ae45567504.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1445">view source</a></div></div><div class="public anchor" id="var-point"><h3>point</h3><div class="usage"><code>(point canvas x y)</code><code>(point canvas vect)</code></div><div class="doc"><div class="markdown"><p>Draw point at <code>x</code>,<code>y</code> or at vector position.</p>
<p>It’s implemented as a very short line. Consider using <code>(rect x y 1 1)</code> for speed when <code>x</code> and <code>y</code> are integers.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Sequence of points.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (doseq [x (range 10 190 10)]
                     (set-stroke canvas (/ x 20))
                     (point canvas x x)))
                 ...)</code></pre><img src="../images/core/910abb1848d2c50ffbec733e1c2d1253.jpg" /></div><div><blockquote><p>Magnified point can look differently when different stroke settings are used.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (scale 80.0)
                       (set-stroke 0.5)
                       (point 0.5 0.5)
                       (set-stroke 0.5 :square)
                       (point 1.5 1.5)))
                 ...)</code></pre><img src="../images/core/85955fdbafd6b9f04ac5fa266e3e492f.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L910">view source</a></div></div><div class="public anchor" id="var-pointy-hex"><h3>pointy-hex</h3><div class="usage"><code>(pointy-hex canvas x y size stroke?)</code><code>(pointy-hex canvas x y size)</code></div><div class="doc"><div class="markdown"><p>Draw pointy topped hex.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Pointy topped hexagon</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (pointy-hex canvas 100 100 20)
                   (pointy-hex canvas 100 100 90 true))
                 ...)</code></pre><img src="../images/core/e4d9ca958defd5fe7229c56756532d7e.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1202">view source</a></div></div><div class="public anchor" id="var-pop-matrix"><h3>pop-matrix</h3><div class="usage"><code>(pop-matrix canvas)</code></div><div class="doc"><div class="markdown"><p>Restore saved transformation state.</p>
<p>See also <a href="clojure2d.core.html#var-push-matrix">push-matrix</a>, <a href="clojure2d.core.html#var-reset-matrix">reset-matrix</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Push/pop matrix canvas</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img]
                         (with-canvas [c (canvas 250 250)]
                                      (translate c 125 125)
                                      (doseq [a (range 0 m/TWO_PI 0.3)]
                                        (let [x (* 80.0 (m/cos a))
                                              y (* 80.0 (m/sin a))]
                                          (-&gt; c
                                              (push-matrix)
                                              (translate x y)
                                              (rotate a)
                                              (image img 0 0 20 20)
                                              (pop-matrix))))
                                      c))
                       ...)</code></pre><img src="../images/core/cf9d4d9350a8f291654eb641b124c4c9.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L708">view source</a></div></div><div class="public anchor" id="var-push-matrix"><h3>push-matrix</h3><div class="usage"><code>(push-matrix canvas)</code></div><div class="doc"><div class="markdown"><p>Remember current transformation state.</p>
<p>See also <a href="clojure2d.core.html#var-pop-matrix">pop-matrix</a>, <a href="clojure2d.core.html#var-reset-matrix">reset-matrix</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Push/pop matrix canvas</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img]
                         (with-canvas [c (canvas 250 250)]
                                      (translate c 125 125)
                                      (doseq [a (range 0 m/TWO_PI 0.3)]
                                        (let [x (* 80.0 (m/cos a))
                                              y (* 80.0 (m/sin a))]
                                          (-&gt; c
                                              (push-matrix)
                                              (translate x y)
                                              (rotate a)
                                              (image img 0 0 20 20)
                                              (pop-matrix))))
                                      c))
                       ...)</code></pre><img src="../images/core/cf9d4d9350a8f291654eb641b124c4c9.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L699">view source</a></div></div><div class="public anchor" id="var-quad"><h3>quad</h3><div class="usage"><code>(quad canvas x1 y1 x2 y2 x3 y3 x4 y4 stroke?)</code><code>(quad canvas x1 y1 x2 y2 x3 y3 x4 y4)</code></div><div class="doc"><div class="markdown"><p>Draw quad with corners at 4 positions.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Quad</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas] (quad canvas 20 20 180 50 50 180 70 70))
                 ...)</code></pre><img src="../images/core/32b5685ba41ca3e2761462a16e733778.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1184">view source</a></div></div><div class="public anchor" id="var-rarc"><h3>rarc</h3><div class="usage"><code>(rarc canvas x1 y1 r start extent type stroke?)</code><code>(rarc canvas x1 y1 r start extent type)</code><code>(rarc canvas x1 y1 r start extent)</code></div><div class="doc"><div class="markdown"><p>Draw arc with middle at <code>(x,y)</code> with radius <code>r</code>.</p>
<p>Starting angle <code>start</code> and <code>extent</code> are in radians. Direction is clockwise.</p>
<p>Type is one of the:</p>
<ul>
  <li><code>:open</code></li>
  <li><code>:pie</code></li>
  <li><code>:chord</code></li>
</ul></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Arcs by radius</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-color :white)
                       (rarc 60 60 45 3.5 m/HALF_PI)
                       (rarc 70 70 45 3.5 m/HALF_PI :chord)
                       (rarc 90 90 45 3.5 m/HALF_PI :pie)
                       (set-color :gray)
                       (rarc 130 130 45 m/PI 2 :open false)
                       (rarc 150 150 45 m/PI 2 :chord false)
                       (rarc 170 170 45 m/PI 2 :pie false)))
                 ...)</code></pre><img src="../images/core/f362e8d3be40f27621429e1f633d9aea.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L989">view source</a></div></div><div class="public anchor" id="var-rect"><h3>rect</h3><div class="usage"><code>(rect canvas x y w h stroke?)</code><code>(rect canvas x y w h)</code></div><div class="doc"><div class="markdown"><p>Draw rectangle with top-left corner at <code>(x,y)</code> position with width <code>w</code> and height <code>h</code>. Optionally you can set <code>stroke?</code> (default: <code>false</code>) to <code>true</code> if you don’t want to fill rectangle and draw outline only.</p>
<p>See also: <a href="clojure2d.core.html#var-crect">crect</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Two squares, one filled and second as outline.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (rect 30 30 50 50)
                       (rect 80 80 90 90 true)))
                 ...)</code></pre><img src="../images/core/c81f801e5e6b15c905d68814fcacc7aa.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L928">view source</a></div></div><div class="public anchor" id="var-rendering-hints"><h3>rendering-hints</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Rendering hints define quality of drawing or window rendering.</p>
<p>The differences are in interpolation, antialiasing, speed vs quality rendering etc. See the source code for the list of each value.</p>
<p>The <code>:highest</code> is <code>:high</code> with <code>VALUE_STROKE_PURE</code> added. Be aware that this option can give very soft lines.</p>
<p>Default hint for Canvas is <code>:high</code>. You can set also hint for Window which means that when display is refreshed this hint is applied (java defaults are used otherwise).</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of possible hints.</p></blockquote><pre><code class="hljs clojure">(keys rendering-hints)
;;=&gt; (:low :mid :high :highest)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L477">view source</a></div></div><div class="public anchor" id="var-replace-canvas"><h3>replace-canvas</h3><div class="usage"><code>(replace-canvas window canvas)</code></div><div class="doc"><div class="markdown"><p>Replace canvas in window.</p>
<ul>
  <li>Input: window and new canvas</li>
  <li>Returns canvas</li>
</ul></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2038">view source</a></div></div><div class="public anchor" id="var-reset-clip"><h3>reset-clip</h3><div class="usage"><code>(reset-clip canvas)</code></div><div class="doc"><div class="markdown"><p>Resets current clipping.</p>
<p>See also <a href="clojure2d.core.html#var-clip">clip</a>.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L825">view source</a></div></div><div class="public anchor" id="var-reset-matrix"><h3>reset-matrix</h3><div class="usage"><code>(reset-matrix canvas)</code></div><div class="doc"><div class="markdown"><p>Reset transformations.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L738">view source</a></div></div><div class="public anchor" id="var-resize"><h3>resize</h3><div class="usage"><code>(resize i w h)</code></div><div class="doc"><div class="markdown"><p>Resize image.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Resize image to 300x40</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img] (resize img 300 40)) ...)</code></pre><img src="../images/core/29733c6f36c0bb3865f0d45d3ec6a17a.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2374">view source</a></div></div><div class="public anchor" id="var-rotate"><h3>rotate</h3><div class="usage"><code>(rotate canvas angle)</code></div><div class="doc"><div class="markdown"><p>Rotate canvas</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Rotate canvas</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img]
                         (with-canvas-&gt; (canvas 150 150)
                                        (translate 75 75)
                                        (rotate m/QUARTER_PI)
                                        (image img -75 -75)))
                       ...)</code></pre><img src="../images/core/00e4c42a1c64a3d0cd8eec76f38229c1.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L684">view source</a></div></div><div class="public anchor" id="var-save"><h3>save</h3><div class="usage"><code>(save i n)</code></div><div class="doc"><div class="markdown"><p>Save image <code>i</code> to a file <code>n</code>.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2355">view source</a></div></div><div class="public anchor" id="var-save-file-type"><h3>save-file-type</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Save Image to the file.</p>
<p>Preprocess if necessary (depends on file type). For supported formats check <a href="clojure2d.core.html#var-img-writer-formats">img-writer-formats</a>.</p>
<p>Dispatch is based on extension as keyword, ie. “.jpg” -&gt; <code>:jpg</code>.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L326">view source</a></div></div><div class="public anchor" id="var-save-image"><h3>save-image</h3><div class="usage"><code>(save-image b filename)</code></div><div class="doc"><div class="markdown"><p>Save image to the file.</p>
<ul>
  <li>Input: image (<code>BufferedImage</code> object) and filename</li>
  <li>Side effect: saved image</li>
</ul>
<p>Image is saved using <a href="clojure2d.core.html#var-save-file-type">save-file-type</a> multimethod.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L355">view source</a></div></div><div class="public anchor" id="var-scale"><h3>scale</h3><div class="usage"><code>(scale canvas scalex scaley)</code><code>(scale canvas s)</code></div><div class="doc"><div class="markdown"><p>Scale canvas</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Scale canvas</p></blockquote><pre><code class="hljs clojure">(process-image-snippet
 (fn [img] (with-canvas-&gt; (canvas 150 150) (scale 0.5) (image img 0 0)))
 ...)</code></pre><img src="../images/core/c259643c799c397f1e4a0cd5d5bf4705.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L655">view source</a></div></div><div class="public anchor" id="var-screen-height"><h3>screen-height</h3><div class="usage"><code>(screen-height)</code></div><div class="doc"><div class="markdown"><p>Returns height of the screen.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Example value</p></blockquote><pre><code class="hljs clojure">(screen-height)
;;=&gt; 1040</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L408">view source</a></div></div><div class="public anchor" id="var-screen-width"><h3>screen-width</h3><div class="usage"><code>(screen-width)</code></div><div class="doc"><div class="markdown"><p>Returns width of the screen.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Example value</p></blockquote><pre><code class="hljs clojure">(screen-width)
;;=&gt; 1920</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L403">view source</a></div></div><div class="public anchor" id="var-sec"><h3>sec</h3><div class="usage"><code>(sec)</code></div><div class="doc"><div class="markdown"><p>Current second</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Current value</p></blockquote><pre><code class="hljs clojure">(sec)
;;=&gt; 34</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2163">view source</a></div></div><div class="public anchor" id="var-session-name"><h3>session-name</h3><div class="usage"><code>(session-name)</code></div><div class="doc"><div class="markdown"><p>Get session name</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Currenct session value</p></blockquote><pre><code class="hljs clojure">(session-name)
;;=&gt; ["20201029124434" "742C7F4E"]</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2282">view source</a></div></div><div class="public anchor" id="var-set-awt-background"><h3>set-awt-background</h3><div class="usage"><code>(set-awt-background canvas c)</code></div><div class="doc"><div class="markdown"><p>Set background color. Expects valid <code>java.awt.Color</code> object.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Set background with <code>java.awt.Color</code>.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-awt-background java.awt.Color/BLUE)))
                 ...)</code></pre><img src="../images/core/449e6a8a80a428fb16479c675cd6b256.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1337">view source</a></div></div><div class="public anchor" id="var-set-awt-color"><h3>set-awt-color</h3><div class="usage"><code>(set-awt-color canvas c)</code></div><div class="doc"><div class="markdown"><p>Set color with valid java <code>Color</code> object. Use it when you’re sure you pass <code>java.awt.Color</code> object.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Set color with <code>java.awt.Color</code>.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-awt-color java.awt.Color/RED)
                       (rect 50 50 100 100)))
                 ...)</code></pre><img src="../images/core/2affa1a4056097084f0423c58d8f4bee.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1330">view source</a></div></div><div class="public anchor" id="var-set-background"><h3>set-background</h3><div class="usage"><code>(set-background canvas c)</code><code>(set-background canvas c a)</code><code>(set-background canvas r g b a)</code><code>(set-background canvas r g b)</code></div><div class="doc"><div class="markdown"><p>Sets background with given color.</p>
<p>Background can be set with alpha.</p>
<p>See <a href="clojure2d.core.html#var-set-color">set-color</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Set background with alpha set.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-background :maroon 200)))
                 ...)</code></pre><img src="../images/core/656d91923c1f4b7ed0a0196e10380b74.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1376">view source</a></div></div><div class="public anchor" id="var-set-color"><h3>set-color</h3><div class="usage"><code>(set-color canvas c)</code><code>(set-color canvas c a)</code><code>(set-color canvas r g b a)</code><code>(set-color canvas r g b)</code></div><div class="doc"><div class="markdown"><p>Sets current color. Color can be:</p>
<ul>
  <li><a href="null">vec3</a>, <a href="null">vec4</a> with rgb values.</li>
  <li>java.awt.Color object</li>
  <li>keyword with name from 140 HTML color names</li>
  <li>Integer</li>
  <li>r, g, b and optional alpha</li>
</ul>
<p>See <a href="clojure2d.color.html">clojure2d.color</a> namespace for more color functions.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Set color various ways.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-color 11189196)
                       (rect 10 10 40 40)
                       (set-color :maroon)
                       (rect 60 60 40 40)
                       (set-color java.awt.Color/GREEN)
                       (rect 110 110 40 40)
                       (set-color 0 111 200 100)
                       (rect 20 20 160 160)
                       (set-color (v/vec3 0 100 255))
                       (rect 160 160 25 25)))
                 ...)</code></pre><img src="../images/core/dbf98e577da2b10514f66b107fb97485.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1363">view source</a></div></div><div class="public anchor" id="var-set-composite"><h3>set-composite</h3><div class="usage"><code>(set-composite canvas composite)</code><code>(set-composite canvas)</code></div><div class="doc"><div class="markdown"><p>Set composite method for blending during draw.</p>
<p>See <a href="clojure2d.pixels.html#var-composite">composite</a> to create one defined by <a href="clojure2d.color.html">clojure2d.color</a> blending modes.</p>
<p>You can also use ones defined in <code>java.awt.AlphaComposite</code> class.</p>
<p>Call witout parameters to revert to default: <code>java.awt.AlphaComposite/SrcOver</code>.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1400">view source</a></div></div><div class="public anchor" id="var-set-font"><h3>set-font</h3><div class="usage"><code>(set-font canvas fontname)</code></div><div class="doc"><div class="markdown"><p>Set font by name.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Various fonts</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-font "Courier New")
                       (text "Trying to set Courier New" 100 50 :center)
                       (set-font "Arial")
                       (text "Trying to set Arial" 100 100 :center)
                       (set-font "Verdana")
                       (text "Trying to set Verdana" 100 150 :center)))
                 ...)</code></pre><img src="../images/core/4e444c970222b9b09e504070ebaf2ae2.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1238">view source</a></div></div><div class="public anchor" id="var-set-font-attributes"><h3>set-font-attributes</h3><div class="usage"><code>(set-font-attributes canvas size style)</code><code>(set-font-attributes canvas size)</code></div><div class="doc"><div class="markdown"><p>Set current font size and attributes.</p>
<p>Attributes are: <code>:bold</code>, <code>:italic</code>, <code>:bold-italic</code>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Font attributes</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-font-attributes 30)
                       (text "Size 30" 100 50 :center)
                       (set-font-attributes 15 :italic)
                       (text "Size 15, italic" 100 100 :center)
                       (set-font-attributes 20 :bold-italic)
                       (text "Size 20, bold, italic" 100 150 :center)))
                 ...)</code></pre><img src="../images/core/ec2e85d33beb8c296c2fa427248b72a0.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1246">view source</a></div></div><div class="public anchor" id="var-set-state.21"><h3>set-state!</h3><div class="usage"><code>(set-state! w state)</code></div><div class="doc"><div class="markdown"><p>Changle global state for Window.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1707">view source</a></div></div><div class="public anchor" id="var-set-stroke"><h3>set-stroke</h3><div class="usage"><code>(set-stroke canvas size cap join miter-limit)</code><code>(set-stroke canvas size cap join)</code><code>(set-stroke canvas size cap)</code><code>(set-stroke canvas size)</code><code>(set-stroke canvas)</code></div><div class="doc"><div class="markdown"><p>Set stroke (line) attributes like <code>cap</code>, <code>join</code>, size and <code>miter-limit</code>.</p>
<p>Default <code>:round</code> and <code>:bevel</code> are used. Default size and miter-limit are <code>1.0</code>.</p>
<p>See <a href="clojure2d.core.html#var-stroke-joins">stroke-joins</a> and <a href="clojure2d.core.html#var-stroke-caps">stroke-caps</a> for names.</p>
<p>See <a href="clojure2d.core.html#var-set-stroke-custom">set-stroke-custom</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Various stroke settings.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-stroke 10 :round)
                       (line 25 20 25 180)
                       (set-stroke 10 :butt)
                       (line 55 20 55 180)
                       (set-stroke 10 :square)
                       (line 85 20 85 180)
                       (set-stroke 10 :round :bevel)
                       (rect 120 20 60 40 true)
                       (set-stroke 10 :round :miter)
                       (rect 120 80 60 40 true)
                       (set-stroke 10 :round :round)
                       (rect 120 140 60 40 true)))
                 ...)</code></pre><img src="../images/core/ffa451eeca47b6f185b71ce9e9f0e70c.jpg" /></div><div><blockquote><p>Miter limit</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (set-stroke 10 :square :miter)
                       (triangle 70 50 170 50 170 70 true)
                       (set-stroke 10 :square :miter 5.0)
                       (triangle 70 100 170 100 170 120 true)
                       (set-stroke 10 :square :miter 25.0)
                       (triangle 70 150 170 150 170 170 true)))
                 ...)</code></pre><img src="../images/core/3fa76f3f34ab14dd8d1f004aacfef58d.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L859">view source</a></div></div><div class="public anchor" id="var-set-stroke-custom"><h3>set-stroke-custom</h3><div class="usage"><code>(set-stroke-custom canvas {:keys [size cap join miter-limit dash dash-phase], :or {size 1.0, cap :butt, join :round, miter-limit 1.0, dash nil, dash-phase 0.0}})</code></div><div class="doc"><div class="markdown"><p>Create custom stroke.</p>
<p>Provide map with following entries, see more in <a href="https://docs.oracle.com/javase/7/docs/api/java/awt/BasicStroke.html">JavaDoc</a>:</p>
<ul>
  <li>:size - size of the stroke (default: 1.0)</li>
  <li>:cap - <a href="clojure2d.core.html#var-stroke-caps">stroke-caps</a> (default: :butt)</li>
  <li>:join - <a href="clojure2d.core.html#var-stroke-joins">stroke-joins</a> (default: :round)</li>
  <li>:miter-limit - line joins trim factor (default: 1.0)</li>
  <li>:dash - array with dash pattern, (default: nil)</li>
  <li>:dash-phase - offset to start pattern (default: 0.0)</li>
</ul>
<p>See also <a href="clojure2d.core.html#var-set-stroke">set-stroke</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Custom strokes</p></blockquote><pre><code class="hljs clojure">(drawing-snippet
 (fn [canvas]
   (-&gt; canvas
       (set-stroke-custom {:size 2.0, :dash [4.0], :dash-phase 2.0})
       (line 20 20 180 20)
       (set-stroke-custom {:size 2.0, :dash [20.0], :dash-phase 10})
       (line 20 50 180 50)
       (set-stroke-custom {:size 2.0, :dash [10.0 2.0 2.0 2.0]})
       (line 20 80 180 80)
       (set-stroke-custom {:size 1.0, :dash [4.0], :dash-phase 2.0})
       (rect 20 110 160 10 true)
       (set-stroke-custom {:size 1.0, :dash [10.0 5.0], :join :miter})
       (rect 20 140 160 10 :true)
       (set-stroke-custom {:size 1.0, :dash [10.0 2.0 2.0 2.0]})
       (rect 20 170 160 10 :true)))
 ...)</code></pre><img src="../images/core/9f825e292faf0fb8d56d4430694a87cc.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L883">view source</a></div></div><div class="public anchor" id="var-shear"><h3>shear</h3><div class="usage"><code>(shear canvas sx sy)</code><code>(shear canvas s)</code></div><div class="doc"><div class="markdown"><p>Shear canvas</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Shear canvas</p></blockquote><pre><code class="hljs clojure">(process-image-snippet
 (fn [img]
   (with-canvas-&gt; (canvas 150 150) (shear 0.2 0.4) (image img 0 0)))
 ...)</code></pre><img src="../images/core/84645edbcde894585b93888c761a787f.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L691">view source</a></div></div><div class="public anchor" id="var-shift-down.3F"><h3>shift-down?</h3><div class="usage"><code>(shift-down? e)</code></div><div class="doc"><div class="markdown"><p>SHIFT key state as boolean.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1575">view source</a></div></div><div class="public anchor" id="var-show-window"><h3>show-window</h3><div class="usage"><code>(show-window canvas window-name)</code><code>(show-window canvas window-name draw-fn)</code><code>(show-window canvas window-name fps draw-fn)</code><code>(show-window canvas window-name w h fps)</code><code>(show-window canvas window-name w h fps draw-fn)</code><code>(show-window {:keys [canvas window-name w h fps draw-fn state draw-state setup hint refresher always-on-top? background], :or {always-on-top? false, draw-state nil, draw-fn nil, background :white, window-name (str "Clojure2D - " (to-hex (rand-int (Integer/MAX_VALUE)) 8)), state nil, hint nil, canvas (canvas 200 200), fps 60, setup nil, refresher nil}})</code><code>(show-window)</code></div><div class="doc"><div class="markdown"><p>Show window for given canvas</p>
<ul>
  <li>Returns <code>Window</code> type value</li>
</ul>
<p>As parameters you can provide a map with folowing keys:</p>
<ul>
  <li><code>:canvas</code> - canvas attached to window (default is canvas 200x200 px)</li>
  <li><code>:window-name</code> - window name, used also for events dispatch and global state</li>
  <li><code>:w</code> - width of the window (default as canvas width)</li>
  <li><code>:h</code> - height of the window (default as canvas heiht)</li>
  <li><code>:fps</code> - refresh rate</li>
  <li><code>:draw-fn</code> - drawing callback (fn [canvas window frame loop-state] … new-loop-state)</li>
  <li><code>:state</code> - initial global state data</li>
  <li><code>:draw-state</code> - initial drawing state</li>
  <li><code>:setup</code> - inital callback function, returns drawing state (fn [canvas window] … initial-loop-state)</li>
  <li><code>:hint</code> - rendering hint for display: <code>:low</code>, <code>:mid</code>, <code>:high</code> or <code>:highest</code></li>
  <li><code>:refresher</code> - <code>:safe</code> (default) or <code>:fast</code></li>
  <li><code>:background</code> - background color for window panel, default white.</li>
</ul></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2059">view source</a></div></div><div class="public anchor" id="var-stroke-caps"><h3>stroke-caps</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Stroke cap types</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of stroke cap types</p></blockquote><pre><code class="hljs clojure">(keys stroke-caps)
;;=&gt; (:round :butt :square)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L853">view source</a></div></div><div class="public anchor" id="var-stroke-joins"><h3>stroke-joins</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Stroke join types</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of stroke join types</p></blockquote><pre><code class="hljs clojure">(keys stroke-joins)
;;=&gt; (:bevel :miter :round)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L847">view source</a></div></div><div class="public anchor" id="var-subimage"><h3>subimage</h3><div class="usage"><code>(subimage i x y w h)</code></div><div class="doc"><div class="markdown"><p>Return rectangular subimage</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Get subimage and resize.</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img]
                         (-&gt; img
                             (subimage 100 100 12 12)
                             (resize 150 150)))
                       ...)</code></pre><img src="../images/core/bcd33acea2f6246144639f8ec1f71fa4.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2369">view source</a></div></div><div class="public anchor" id="var-text"><h3>text</h3><div class="usage"><code>(text canvas s x y align)</code><code>(text canvas s x y)</code></div><div class="doc"><div class="markdown"><p>Draw text for given position and alignment.</p>
<p>Possible alignments are: <code>:right</code>, <code>:center</code>, <code>:left</code>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Font attributes</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (text "Align left" 100 50 :left)
                       (text "Align center" 100 100 :center)
                       (text "Align right" 100 150 :right)))
                 ...)</code></pre><img src="../images/core/ef410cb3601dab354d44964b9efa5917.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1294">view source</a></div></div><div class="public anchor" id="var-text-bounding-box"><h3>text-bounding-box</h3><div class="usage"><code>(text-bounding-box canvas txt)</code></div><div class="doc"><div class="markdown"><p>Returns bounding box [x,y,w,h] for given text. <code>[x,y]</code> position is relative to base line.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Size of some string.</p></blockquote><pre><code class="hljs clojure">(with-canvas-&gt; (canvas 10 10)
               (text-bounding-box "Size of some string."))
;;=&gt; [0.0 -11.138671875 118.5703125 13.96875]</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1285">view source</a></div></div><div class="public anchor" id="var-text-width"><h3>text-width</h3><div class="usage"><code>(text-width canvas txt)</code></div><div class="doc"><div class="markdown"><p>Returns width of the provided string. Should be called within context.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Size of some string.</p></blockquote><pre><code class="hljs clojure">(with-canvas-&gt; (canvas 10 10) (text-width "Size of some string."))
;;=&gt; 119</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1279">view source</a></div></div><div class="public anchor" id="var-to-hex"><h3>to-hex</h3><div class="usage"><code>(to-hex n)</code><code>(to-hex n pad)</code></div><div class="doc"><div class="markdown"><p>Return hex value of given number, padded with leading zeroes if given length</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(to-hex 123)
;;=&gt; 7B
(to-hex 123 8)
;;=&gt; 0000007B</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2149">view source</a></div></div><div class="public anchor" id="var-transcode-svg"><h3>transcode-svg</h3><div class="usage"><code>(transcode-svg input w h)</code></div><div class="doc"><div class="markdown"><p>Convert transcoder input into BufferedImage. See <a href="clojure2d.core.html#var-load-svg">load-svg</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Draw SVG onto canvas.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (let [svg (load-svg "docs/takkun.svg")]
                     (-&gt; canvas
                         (image (transcode-svg svg 200 200))
                         (image (transcode-svg svg 30 30) 170 170))))
                 ...)</code></pre><img src="../images/core/a3a6ccc076d5c1f776cb5af393e691fd.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1496">view source</a></div></div><div class="public anchor" id="var-transform"><h3>transform</h3><div class="usage"><code>(transform canvas x y)</code><code>(transform canvas [x y])</code></div><div class="doc"><div class="markdown"><p>Transform given point or coordinates with current transformation. See <a href="clojure2d.core.html#var-inv-transform">inv-transform</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Transform point using current transformation.</p></blockquote><pre><code class="hljs clojure">(with-canvas [c (canvas 100 100)]
             (translate c 50 50)
             (rotate c m/HALF_PI)
             (transform c 10 10))
;;=&gt; [40.0 60.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L720">view source</a></div></div><div class="public anchor" id="var-translate"><h3>translate</h3><div class="usage"><code>(translate canvas tx ty)</code><code>(translate canvas [x y])</code></div><div class="doc"><div class="markdown"><p>Translate origin</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Translate canvas</p></blockquote><pre><code class="hljs clojure">(process-image-snippet
 (fn [img]
   (with-canvas-&gt; (canvas 150 150) (translate 20 20) (image img 0 0)))
 ...)</code></pre><img src="../images/core/f32e9589edc9d59d963a4f04f9c00c8c.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L675">view source</a></div></div><div class="public anchor" id="var-triangle"><h3>triangle</h3><div class="usage"><code>(triangle canvas x1 y1 x2 y2 x3 y3 stroke?)</code><code>(triangle canvas x1 y1 x2 y2 x3 y3)</code></div><div class="doc"><div class="markdown"><p>Draw triangle with corners at 3 positions.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Two triangles</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (triangle 30 30 170 100 30 170)
                       (set-color :black)
                       (triangle 170 30 170 170 30 100 true)))
                 ...)</code></pre><img src="../images/core/9c4df2ecdf9c7b9d725e9d74b292a179.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1015">view source</a></div></div><div class="public anchor" id="var-triangle-fan"><h3>triangle-fan</h3><div class="usage"><code>(triangle-fan canvas vs stroke?)</code><code>(triangle-fan canvas vs)</code></div><div class="doc"><div class="markdown"><p>Draw triangle fan. Implementation of <code>Processing</code> <code>FAN</code> shape.</p>
<p>First point is common vertex of all triangles.</p>
<p>Input: list of vertices as vectors.</p>
<p>See also: <a href="clojure2d.core.html#var-triangle-strip">triangle-strip</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Triangle fan</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (set-color canvas :white 190)
                   (translate canvas 100 100)
                   (let [s (for [a (range 0 65 3.0)]
                             [(* 90.0 (m/cos a)) (* 90.0 (m/sin a))])]
                     (triangle-fan canvas s true)))
                 ...)</code></pre><img src="../images/core/2ca07a0052e39883f1eed480ce52f696.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1050">view source</a></div></div><div class="public anchor" id="var-triangle-strip"><h3>triangle-strip</h3><div class="usage"><code>(triangle-strip canvas vs stroke?)</code><code>(triangle-strip canvas vs)</code></div><div class="doc"><div class="markdown"><p>Draw triangle strip. Implementation of <code>Processing</code> <code>STRIP</code> shape.</p>
<p>Input: list of vertices as vectors.</p>
<p>See also: <a href="clojure2d.core.html#var-triangle-fan">triangle-fan</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Triangle strip</p></blockquote><pre><code class="hljs clojure">(drawing-snippet
 (fn [canvas]
   (set-color canvas :white 190)
   (translate canvas 100 100)
   (let [s (for [a (range 0 65 3.0)]
             (v/vec2 (* 90.0 (m/cos a)) (* 90.0 (m/sin a))))]
     (triangle-strip canvas s true)))
 ...)</code></pre><img src="../images/core/1a4bfc01b803425f25055c46da9430c7.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1030">view source</a></div></div><div class="public anchor" id="var-virtual-key"><h3>virtual-key</h3><h4 class="dynamic">const</h4><div class="usage"></div><div><div class="markdown"><code class="hljs clojure">;;=&gt; \0xffff</code></div></div><div class="doc"><div class="markdown"><p>Use as a dispatch in key events for keys like up/down/etc.</p></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1720">view source</a></div></div><div class="public anchor" id="var-width"><h3>width</h3><div class="usage"><code>(width i)</code></div><div class="doc"><div class="markdown"><p>Width of the image.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Width of the image</p></blockquote><pre><code class="hljs clojure">(width (load-image "docs/cockatoo.jpg"))
;;=&gt; 150</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2345">view source</a></div></div><div class="public anchor" id="var-window-active.3F"><h3>window-active?</h3><div class="usage"><code>(window-active? window)</code></div><div class="doc"><div class="markdown"><p>Helper function, check if window is active.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Check if window is visible.</p></blockquote><pre><code class="hljs clojure">(let [w (show-window)
      before-closing (window-active? w)]
  (close-window w)
  {:before-closing before-closing, :after-closing (window-active? w)})
;;=&gt; {:after-closing false, :before-closing true}</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1671">view source</a></div></div><div class="public anchor" id="var-with-canvas"><h3>with-canvas</h3><h4 class="type">macro</h4><div class="usage"><code>(with-canvas [c canvas] &amp; body)</code></div><div class="doc"><div class="markdown"><p>Macro which takes care to create and destroy <code>Graphics2D</code> object for drawings on canvas. Macro returns result of last call.</p>
<p>See also <a href="clojure2d.core.html#var-with-canvas-.3E">with-canvas-&gt;</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Draw on canvas</p></blockquote><pre><code class="hljs clojure">(process-image-snippet (fn [img]
                         (with-canvas [c (canvas 200 200)]
                                      (dotimes [i 50]
                                        (let [x (r/irand -50 100)
                                              y (r/irand -50 100)
                                              w (r/irand (- 200 x))
                                              h (r/irand (- 200 y))]
                                          (image c img x y w h)))
                                      c))
                       ...)</code></pre><img src="../images/core/3819265513827c55adf7aa03e7eedfd6.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L581">view source</a></div></div><div class="public anchor" id="var-with-canvas-.3E"><h3>with-canvas-&gt;</h3><h4 class="type">macro</h4><div class="usage"><code>(with-canvas-&gt; canvas &amp; body)</code></div><div class="doc"><div class="markdown"><p>Threading macro which takes care to create and destroy <code>Graphics2D</code> object for drawings on canvas. Macro returns result of last call.</p>
<p>Each function have to accept canvas as second parameter and have to return canvas.</p>
<p>See also <a href="clojure2d.core.html#var-with-canvas">with-canvas</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Draw on canvas</p></blockquote><pre><code class="hljs clojure">(process-image-snippet
 (fn [img] (with-canvas-&gt; (canvas 100 100) (image img 50 50 50 50)))
 ...)</code></pre><img src="../images/core/25f6ac41959fa5a08d545c6e33bcffae.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L566">view source</a></div></div><div class="public anchor" id="var-with-oriented-canvas"><h3>with-oriented-canvas</h3><h4 class="type">macro</h4><div class="usage"><code>(with-oriented-canvas orientation [c canv] &amp; body)</code></div><div class="doc"><div class="markdown"><p>Same as <a href="clojure2d.core.html#var-with-canvas">with-canvas</a> but with initial orientation.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Orient and draw.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (with-oriented-canvas :bottom-left+
                                         [c canvas]
                                         (doseq [p (range 0 100 4)]
                                           (set-color c (* p 2) 200 200)
                                           (line c p 0 (+ p 100) 50))))
                 ...)</code></pre><img src="../images/core/2e564a0bbfae05492673e0c28bb06487.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L798">view source</a></div></div><div class="public anchor" id="var-with-oriented-canvas-.3E"><h3>with-oriented-canvas-&gt;</h3><h4 class="type">macro</h4><div class="usage"><code>(with-oriented-canvas-&gt; orientation canv &amp; body)</code></div><div class="doc"><div class="markdown"><p>Same as <a href="clojure2d.core.html#var-with-canvas-.3E">with-canvas-&gt;</a> but with initial orientation.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Orient and draw.</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (with-oriented-canvas-&gt; :bottom-left+
                                           canvas
                                           (line 0 0 100 50)
                                           (line 100 0 200 50)))
                 ...)</code></pre><img src="../images/core/11a6a072461a86441f1cbf6dfd73f5fb.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L806">view source</a></div></div><div class="public anchor" id="var-xor-mode"><h3>xor-mode</h3><div class="usage"><code>(xor-mode canvas c)</code><code>(xor-mode canvas c a)</code><code>(xor-mode canvas r g b a)</code><code>(xor-mode canvas r g b)</code></div><div class="doc"><div class="markdown"><p>Set XOR painting mode with given color.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Set XOR Painting mode</p></blockquote><pre><code class="hljs clojure">(drawing-snippet (fn [canvas]
                   (-&gt; canvas
                       (xor-mode :gray)
                       (rect 50 50 100 100)
                       (rect 70 70 60 60)))
                 ...)</code></pre><img src="../images/core/cabbb3346fd756368c7ad48d9d373457.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L1385">view source</a></div></div><div class="public anchor" id="var-year"><h3>year</h3><div class="usage"><code>(year)</code></div><div class="doc"><div class="markdown"><p>Current year</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Current value</p></blockquote><pre><code class="hljs clojure">(year)
;;=&gt; 2020</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/core.clj#L2158">view source</a></div></div></div></body></html>