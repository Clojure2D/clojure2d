<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clojure2d.extra.glitch documentation</title><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clojure2d</span> <span class="project-version">1.4.5-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojure2d</span></div></div></li><li class="depth-2"><a href="clojure2d.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.color.blend.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blend</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.color.cssgram.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cssgram</span></div></a></li><li class="depth-3"><a href="clojure2d.color.whitepoints.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>whitepoints</span></div></a></li><li class="depth-2 branch"><a href="clojure2d.core.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>extra</span></div></div></li><li class="depth-3 branch current"><a href="clojure2d.extra.glitch.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>glitch</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.extra.overlays.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>overlays</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.extra.raymarching.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>raymarching</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.extra.segmentation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>segmentation</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.extra.signal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>signal</span></div></a></li><li class="depth-3"><a href="clojure2d.extra.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-2 branch"><a href="clojure2d.pixels.html"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>pixels</span></div></a></li><li class="depth-2"><a href="clojure2d.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-blend-machine"><div class="inner"><span>blend-machine</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-blend-machine-random-config"><div class="inner"><span>blend-machine-random-config</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-fold"><div class="inner"><span>fold</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-fold-random-config"><div class="inner"><span>fold-random-config</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-imgslicer"><div class="inner"><span>imgslicer</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-mirror"><div class="inner"><span>mirror</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-mirror-random-config"><div class="inner"><span>mirror-random-config</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-mirror-types"><div class="inner"><span>mirror-types</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-pix2line"><div class="inner"><span>pix2line</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-pix2line-random-config"><div class="inner"><span>pix2line-random-config</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-shift-channels"><div class="inner"><span>shift-channels</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-shift-channels-random-config"><div class="inner"><span>shift-channels-random-config</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-slitscan"><div class="inner"><span>slitscan</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-slitscan-random-config"><div class="inner"><span>slitscan-random-config</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-slitscan2"><div class="inner"><span>slitscan2</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.glitch.html#var-slitscan2-random-config"><div class="inner"><span>slitscan2-random-config</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clojure2d.extra.glitch</h1><div class="doc"><div class="markdown"><p>Various glitching pixel filters or functions</p>
<h3><a href="#filter" id="filter"></a>Filter</h3>
<p>Use following filters with <a href="clojure2d.pixels.html#var-filter-channels">filter-channels</a> function.</p>
<ul>
<li>Slitscan - x/y slitscan simulation based on wave functions</li>
<li>Shift-channels - just shift channels</li>
<li>Mirror - mirror image along different axes</li>
<li>Slitscan2 - slitscan simulation based on vector fields</li>
<li>Fold - apply vector field on the image</li>
<li>Pix2line - convert pixel into horizontal line</li>
</ul>
<h3><a href="#machines" id="machines"></a>Machines</h3>
<p>Short sketches operating on images/pixels.</p>
<ul>
<li>Blend - compose two images in glitchy way</li>
</ul>
<p>All filters are equiped with random configuration generator.</p>
</div><div class="markdown"><h4>Categories</h4><ul></ul><p>Other vars: <a href="clojure2d.extra.glitch.html#var-blend-machine">blend-machine</a> <a href="clojure2d.extra.glitch.html#var-blend-machine-random-config">blend-machine-random-config</a> <a href="clojure2d.extra.glitch.html#var-fold">fold</a> <a href="clojure2d.extra.glitch.html#var-fold-random-config">fold-random-config</a> <a href="clojure2d.extra.glitch.html#var-imgslicer">imgslicer</a> <a href="clojure2d.extra.glitch.html#var-mirror">mirror</a> <a href="clojure2d.extra.glitch.html#var-mirror-random-config">mirror-random-config</a> <a href="clojure2d.extra.glitch.html#var-mirror-types">mirror-types</a> <a href="clojure2d.extra.glitch.html#var-pix2line">pix2line</a> <a href="clojure2d.extra.glitch.html#var-pix2line-random-config">pix2line-random-config</a> <a href="clojure2d.extra.glitch.html#var-shift-channels">shift-channels</a> <a href="clojure2d.extra.glitch.html#var-shift-channels-random-config">shift-channels-random-config</a> <a href="clojure2d.extra.glitch.html#var-slitscan">slitscan</a> <a href="clojure2d.extra.glitch.html#var-slitscan-random-config">slitscan-random-config</a> <a href="clojure2d.extra.glitch.html#var-slitscan2">slitscan2</a> <a href="clojure2d.extra.glitch.html#var-slitscan2-random-config">slitscan2-random-config</a></p></div><div class="markdown"><h4>Code snippets</h4><div><blockquote><p>Save glitch</p>
</blockquote><pre><code>(defn save-result
  [f params &amp; opts]
  (let [n (str "images/glitch/" (first opts) ".jpg")]
    (save f (str "docs/" n))
    (str "../" n)))</code></pre></div></div></div><div class="public anchor" id="var-blend-machine"><h3>blend-machine</h3><div class="usage"><code>(blend-machine p1 p2)</code><code>(blend-machine {:keys [switch? in1-cs in2-cs out-cs in1-to? in2-to? out-to? blend-ch1 blend-ch2 blend-ch3]} p1 p2)</code></div><div class="doc"><div class="markdown"><p>Blend two <code>Pixels</code> based on configuration.</p>
<p>The idea is to compose channels separately in different color spaces.</p>
<p>Full flow does following steps:</p>
<ul>
<li>convert inputs to (or from) selected color spaces</li>
<li>compose each channel separately using different method</li>
<li>convert output to (or from) selected color space</li>
</ul>
<p>Parametrization:</p>
<ul>
<li><code>:switch?</code> -  reverse input order</li>
<li><code>:in1-cs</code> - color space for first image</li>
<li><code>:in2-cs</code> - color space for second image</li>
<li><code>:out-cs</code> - color space for output</li>
<li><code>:in1-to?</code>, <code>:in2-to?</code>, <code>:cs-to?</code> - which conversion to select: to color space or from color space</li>
<li><code>:blend-ch1</code>, <code>:blend-ch2</code>, <code>:blend-ch3</code> - blend methods for each channel</li>
</ul>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p>
</blockquote><pre><code class="hljs clojure">(save-result (let [blend-conf {:blend-ch3 :hardmix,
                               :out-cs :Cubehelix,
                               :blend-ch2 :mlinearburn,
                               :switch? true,
                               :out-to? true,
                               :in1-cs :LUV,
                               :in1-to? true,
                               :in2-cs :XYZ,
                               :blend-ch1 :mdodge,
                               :in2-to? true}
                   p2l-conf {:nx 9,
                             :ny 3,
                             :scale 4.2,
                             :tolerance 37,
                             :nseed -1,
                             :whole true,
                             :shiftx 0.66,
                             :shifty 0.46}
                   p2 (p/filter-channels (pix2line p2l-conf) samurai)]
               (blend-machine blend-conf samurai p2))
             ...)</code></pre><img src="../images/glitch/384318c996924ddfe85b5aa81b23a551.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L400">view source</a></div></div><div class="public anchor" id="var-blend-machine-random-config"><h3>blend-machine-random-config</h3><div class="usage"><code>(blend-machine-random-config)</code></div><div class="doc"><div class="markdown"><p>Random configuration for blend machine.</p>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p>
</blockquote><pre><code class="hljs clojure">(blend-machine-random-config)
;;=&gt; {:blend-ch1 :average,
;;=&gt;  :blend-ch2 :overlay,
;;=&gt;  :blend-ch3 nil,
;;=&gt;  :in1-cs :YCgCo,
;;=&gt;  :in1-to? false,
;;=&gt;  :in2-cs :YCgCo,
;;=&gt;  :in2-to? false,
;;=&gt;  :out-cs :YCgCo,
;;=&gt;  :out-to? true,
;;=&gt;  :switch? false}</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L380">view source</a></div></div><div class="public anchor" id="var-fold"><h3>fold</h3><div class="usage"><code>(fold {:keys [fields r]})</code><code>(fold)</code></div><div class="doc"><div class="markdown"><p>Folding filter based on vector fields.</p>
<p>Parameters:</p>
<ul>
<li><code>:fields</code> - vector fields configuration <a href="null">combine</a></li>
<li><code>:r</code> -  range value 1.0-3.0</li>
</ul>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Fold with random config</p>
</blockquote><pre><code class="hljs clojure">(save-result (p/filter-channels (fold) samurai) ...)</code></pre><img src="../images/glitch/2a7578e28ae806a9823a064e6aa58e87.jpg" /></div><div><blockquote><p>Provided config</p>
</blockquote><pre><code class="hljs clojure">(save-result
 (let [conf
       {:fields
        {:type :operation,
         :name :comp,
         :var1 {:type :variation,
                :name :pressure-wave,
                :amount 1.0,
                :config {:x-freq -0.27, :y-freq 5.92}},
         :var2
         {:type :variation, :name :besselj, :amount 1.0, :config {}},
         :amount 1.0},
        :r 4.0}]
   (p/filter-channels (fold conf) samurai))
 ...)</code></pre><img src="../images/glitch/f5fe1ba14fac9e22af656cc4fb43fd68.jpg" /></div><div><blockquote><p>Provided config with different range value for each channel</p>
</blockquote><pre><code class="hljs clojure">(save-result
 (let [conf
       {:fields {:type :operation,
                 :name :comp,
                 :var1 {:type :variation,
                        :name :perlin2,
                        :amount 1.0,
                        :config {:seed 112, :scale -1.13, :octaves 4}},
                 :var2 {:type :variation,
                        :name :exponential,
                        :amount 1.0,
                        :config {}},
                 :amount 1.0},
        :r 2.0}]
   (p/filter-channels (fold (assoc conf :r 1.9))
                      (fold (assoc conf :r 2.0))
                      (fold (assoc conf :r 2.1))
                      nil
                      samurai))
 ...)</code></pre><img src="../images/glitch/50b4fb8fd4d610e73b4b981a041105c2.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L175">view source</a></div></div><div class="public anchor" id="var-fold-random-config"><h3>fold-random-config</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Generate random configuration for vector fields slitscan.</p>
<ul>
<li><code>r</code> - field range (default 2.0)</li>
<li><code>d</code> - fields configuration depth (default up to 3)</li>
</ul>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p>
</blockquote><pre><code class="hljs clojure">(fold-random-config)
;;=&gt; {:fields {:amount 1.0,
;;=&gt;           :name :comp,
;;=&gt;           :type :operation,
;;=&gt;           :var1 {:amount 1.0,
;;=&gt;                  :name :deriv,
;;=&gt;                  :step 0.11232961633962182,
;;=&gt;                  :type :operation,
;;=&gt;                  :var {:amount 1.0,
;;=&gt;                        :config {:dampx 1.0958284032985843,
;;=&gt;                                 :dampy -1.3387110728673306,
;;=&gt;                                 :freqx 0.1813757206782365,
;;=&gt;                                 :freqy 5.902751595793957,
;;=&gt;                                 :scalex -1.3550486340083079,
;;=&gt;                                 :scaley 1.4294196038977156,
;;=&gt;                                 :use-cos-x true,
;;=&gt;                                 :use-cos-y true},
;;=&gt;                        :name :waves2wf,
;;=&gt;                        :type :variation}},
;;=&gt;           :var2 {:amount 1.0,
;;=&gt;                  :config {:k 0.007739299591828619},
;;=&gt;                  :name :jacdn,
;;=&gt;                  :type :variation}},
;;=&gt;  :r 2.0}
(fold-random-config 3.1234)
;;=&gt; {:fields
;;=&gt;  {:amount 1.1182459950165564,
;;=&gt;   :name :mult,
;;=&gt;   :type :operation,
;;=&gt;   :var1 {:amount -1.914772318076563,
;;=&gt;          :name :comp,
;;=&gt;          :type :operation,
;;=&gt;          :var1 {:amount 1.0,
;;=&gt;                 :name :add,
;;=&gt;                 :type :operation,
;;=&gt;                 :var1 {:amount 1.2959200276290375,
;;=&gt;                        :config {:line-up -0.006473361294915936,
;;=&gt;                                 :pull -0.2765606750745764,
;;=&gt;                                 :rotate 0.8306427900554345,
;;=&gt;                                 :x 0.5432075779973433,
;;=&gt;                                 :y -0.7652347723828974},
;;=&gt;                        :name :kaleidoscope,
;;=&gt;                        :type :variation},
;;=&gt;                 :var2 {:amount -1.2281130718469542,
;;=&gt;                        :config {:a 0.78987372525014,
;;=&gt;                                 :b 1.271819593617363,
;;=&gt;                                 :c 2.3509537522799593,
;;=&gt;                                 :d 0.743066030621359,
;;=&gt;                                 :inside false,
;;=&gt;                                 :shape 3},
;;=&gt;                        :name :hole2,
;;=&gt;                        :type :variation}},
;;=&gt;          :var2 {:amount 1.0,
;;=&gt;                 :config {:space 0.97444061400831,
;;=&gt;                          :spin -1.264520002241417,
;;=&gt;                          :twist -2.6510912787124057,
;;=&gt;                          :x -0.3627663939623622,
;;=&gt;                          :y 0.10296978192540829},
;;=&gt;                 :name :lazysusan,
;;=&gt;                 :type :variation}},
;;=&gt;   :var2 {:amount -0.467030784652247,
;;=&gt;          :config {},
;;=&gt;          :name :cosh,
;;=&gt;          :type :variation}},
;;=&gt;  :r 3.1234}
(fold-random-config 3.1234 0)
;;=&gt; {:fields {:amount 1.0,
;;=&gt;           :config {:amplitude 1.8809884039532814,
;;=&gt;                    :damping 0.9780798816320889,
;;=&gt;                    :frequency -1.2851861364858639,
;;=&gt;                    :separation 2.4139742288051402},
;;=&gt;           :name :oscilloscope,
;;=&gt;           :type :variation},
;;=&gt;  :r 3.1234}</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L169">view source</a></div></div><div class="public anchor" id="var-imgslicer"><h3>imgslicer</h3><div class="usage"><code>(imgslicer pixels {:keys [distance threshold min-size mode], :or {distance v/dist, threshold 200, min-size 500, mode :color}, :as options})</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L436">view source</a></div></div><div class="public anchor" id="var-mirror"><h3>mirror</h3><div class="usage"><code>(mirror t)</code><code>(mirror)</code></div><div class="doc"><div class="markdown"><p>Mirror image for given (or random) mirroring functions.</p>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Random mirror</p>
</blockquote><pre><code class="hljs clojure">(save-result (p/filter-channels (mirror) samurai) ...)</code></pre><img src="../images/glitch/71a070ecf4b6e4bfc4415851d287b7b8.jpg" /></div><div><blockquote><p>Mirror R(ight) to left</p>
</blockquote><pre><code class="hljs clojure">(save-result (p/filter-channels (mirror :R) samurai) ...)</code></pre><img src="../images/glitch/bbf9fef83d8bc9976007bec4da23090c.jpg" /></div><div><blockquote><p>Mirror each channel separately</p>
</blockquote><pre><code class="hljs clojure">(save-result
 (p/filter-channels (mirror :L) (mirror :R) (mirror :U) nil samurai)
 ...)</code></pre><img src="../images/glitch/4f6cf8ad9204286e6aac73215f95aa4c.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L300">view source</a></div></div><div class="public anchor" id="var-mirror-random-config"><h3>mirror-random-config</h3><div class="usage"><code>(mirror-random-config)</code></div><div class="doc"><div class="markdown"><p>Generate random mirroring functions.</p>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p>
</blockquote><pre><code class="hljs clojure">(mirror-random-config)
;;=&gt; :SUL2
(mirror-random-config)
;;=&gt; :SDR2
(mirror-random-config)
;;=&gt; :R</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L295">view source</a></div></div><div class="public anchor" id="var-mirror-types"><h3>mirror-types</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Map of names and mirroring functions</p>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of mirror function keys</p>
</blockquote><pre><code class="hljs clojure">(sort (keys mirror-types))
;;=&gt; (:D :DL
;;=&gt;     :DL2 :DR
;;=&gt;     :DR2 :L
;;=&gt;     :R :RDL
;;=&gt;     :RDR :RUL
;;=&gt;     :RUR :SDL
;;=&gt;     :SDL2 :SDR
;;=&gt;     :SDR2 :SUL
;;=&gt;     :SUL2 :SUR
;;=&gt;     :SUR2 :U
;;=&gt;     :UL :UL2
;;=&gt;     :UR :UR2)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L269">view source</a></div></div><div class="public anchor" id="var-pix2line"><h3>pix2line</h3><div class="usage"><code>(pix2line)</code><code>(pix2line {:keys [tolerance whole], :as config})</code></div><div class="doc"><div class="markdown"><p>Pix2line effect. Convert pixels to lines.</p>
<p>Parametrization:</p>
<ul>
<li><code>:nx</code>, <code>:ny</code> - grid size</li>
<li><code>:scale</code> - grid scaling factor</li>
<li><code>:tolerance</code> - factor which regulates when start new line</li>
<li><code>:nseed</code> - noise seed</li>
<li><code>:whole</code> - skip lines or not</li>
<li><code>:shiftx</code>, <code>:shifty</code> - noise shift</li>
</ul>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Random pix2line</p>
</blockquote><pre><code class="hljs clojure">(save-result (p/filter-channels (pix2line) samurai) ...)</code></pre><img src="../images/glitch/9fca768ef3d9582fc7456b10bf8e16f1.jpg" /></div><div><blockquote><p>With configuration, slightly modified for each channel</p>
</blockquote><pre><code class="hljs clojure">(save-result
 (let [conf {:nx 9,
             :ny 3,
             :scale 4.2,
             :tolerance 37,
             :nseed -1,
             :whole true,
             :shiftx 0.66,
             :shifty 0.46}]
   (p/filter-channels (pix2line conf)
                      (pix2line (assoc conf :scale 1))
                      (pix2line (assoc conf :scale 10 :tolerance 100))
                      nil
                      samurai))
 ...)</code></pre><img src="../images/glitch/f1700e2f5a1bcc8f1aff29a06dea6ac6.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L344">view source</a></div></div><div class="public anchor" id="var-pix2line-random-config"><h3>pix2line-random-config</h3><div class="usage"><code>(pix2line-random-config)</code></div><div class="doc"><div class="markdown"><p>Make random config for pix2line.</p>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p>
</blockquote><pre><code class="hljs clojure">(pix2line-random-config)
;;=&gt; {:nseed -104559432,
;;=&gt;  :nx 19,
;;=&gt;  :ny 27,
;;=&gt;  :scale 4.827626098091167,
;;=&gt;  :shiftx 0.16595269492440257,
;;=&gt;  :shifty 0.8787030351906517,
;;=&gt;  :tolerance 17,
;;=&gt;  :whole true}</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L332">view source</a></div></div><div class="public anchor" id="var-shift-channels"><h3>shift-channels</h3><div class="usage"><code>(shift-channels)</code><code>(shift-channels {:keys [x-shift y-shift], :or {x-shift 0.05, y-shift -0.05}})</code></div><div class="doc"><div class="markdown"><p>Shift channels by given amount.</p>
<p>Parameters:</p>
<ul>
<li><code>:x-shift</code> - shift amount along x axis</li>
<li><code>:y-shift</code> - shift amount along y axis</li>
</ul>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Shift red and blue channels</p>
</blockquote><pre><code class="hljs clojure">(save-result
 (p/filter-channels (shift-channels) nil (shift-channels) nil samurai)
 ...)</code></pre><img src="../images/glitch/9b0b55b2e40e529632f87490adb82adb.jpg" /></div><div><blockquote><p>Shift hue and saturation channels</p>
</blockquote><pre><code class="hljs clojure">(save-result (let [filt (shift-channels {:x-shift -0.2, :y-shift 1.0})]
               (-&gt;&gt; samurai
                    (p/filter-colors c/to-HSV*)
                    (p/filter-channels filt filt nil nil)
                    (p/filter-colors c/from-HSV*)))
             ...)</code></pre><img src="../images/glitch/5ee641bfca974a53732d8b9477ab4827.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L115">view source</a></div></div><div class="public anchor" id="var-shift-channels-random-config"><h3>shift-channels-random-config</h3><div class="usage"><code>(shift-channels-random-config)</code><code>(shift-channels-random-config spread)</code></div><div class="doc"><div class="markdown"><p>Random shift values along x and y axes.</p>
<p>Optionally provide <code>spread</code> parameter to define maximum shift value.</p>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p>
</blockquote><pre><code class="hljs clojure">(shift-channels-random-config)
;;=&gt; {:x-shift -0.04967620943383977, :y-shift -0.07077799115763057}
(shift-channels-random-config 100)
;;=&gt; {:x-shift 52.49427712553219, :y-shift 55.42003937187266}</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L102">view source</a></div></div><div class="public anchor" id="var-slitscan"><h3>slitscan</h3><div class="usage"><code>(slitscan)</code><code>(slitscan {:keys [x y], :or {x [(make-random-wave)], y [(make-random-wave)]}})</code></div><div class="doc"><div class="markdown"><p>Create slitscan filter funtion.</p>
<p>Config is a map each axis has it’s own list of maps defining waves. Each map contains:</p>
<ul>
<li><code>:wave</code> - oscillator name (see <a href="null">oscillators</a>.</li>
<li><code>:freq</code> - wave frequency</li>
<li><code>:amp</code> - wave amplitude</li>
<li><code>:phase</code> - wave phase (0-1).</li>
</ul>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Random slitscan</p>
</blockquote><pre><code class="hljs clojure">(save-result (p/filter-channels (slitscan) samurai) ...)</code></pre><img src="../images/glitch/a40f6fecf6034251c9e5d36f69ad943d.jpg" /></div><div><blockquote><p>Slitscan with parameters</p>
</blockquote><pre><code class="hljs clojure">(save-result
 (p/filter-channels
  (slitscan {:x [{:wave :triangle, :freq 4, :amp 0.25, :phase 0.8}],
             :y [{:wave :sin, :freq 2, :amp 0.5, :phase 0.5}]})
  samurai)
 ...)</code></pre><img src="../images/glitch/fbf1db0c18f0311af990686749ab8af0.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L85">view source</a></div></div><div class="public anchor" id="var-slitscan-random-config"><h3>slitscan-random-config</h3><div class="usage"><code>(slitscan-random-config nx ny)</code><code>(slitscan-random-config)</code></div><div class="doc"><div class="markdown"><p>Create list of random waves for each axis separately.</p>
<p>Optionally you can pass number of waves to create for each axis.</p>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p>
</blockquote><pre><code class="hljs clojure">(slitscan-random-config)
;;=&gt; {:x ({:amp 0.5, :freq 2, :phase 0.6994181810424116, :wave :square}
;;=&gt;      {:amp 0.0625, :freq 16, :phase 0.9024742808325945, :wave :saw}
;;=&gt;      {:amp 1.0, :freq 1, :phase 0.6694941331632842, :wave :triangle}
;;=&gt;      {:amp 0.125,
;;=&gt;       :freq 8,
;;=&gt;       :phase 0.9509626955363083,
;;=&gt;       :wave :cut-triangle}),
;;=&gt;  :y ({:amp 0.125, :freq 8, :phase 0.7944420120329878, :wave :square}
;;=&gt;      {:amp 0.125, :freq 8, :phase 0.41133168837663625, :wave :noise})}
(slitscan-random-config 1 1)
;;=&gt; {:x ({:amp 0.03125, :freq 32, :phase 0.24098886071591363, :wave :sin}),
;;=&gt;  :y ({:amp 0.015625, :freq 64, :phase 0.46036836977931017, :wave :saw})}</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L57">view source</a></div></div><div class="public anchor" id="var-slitscan2"><h3>slitscan2</h3><div class="usage"><code>(slitscan2 {:keys [fields r], :or {r 2.0, fields (var/random-configuration 0)}})</code><code>(slitscan2)</code></div><div class="doc"><div class="markdown"><p>Slitscan filter based on vector fields.</p>
<p>Parameters:</p>
<ul>
<li><code>:fields</code> - vector fields configuration <a href="null">combine</a></li>
<li><code>:r</code> -  range value 1.0-3.0</li>
</ul>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Slitscan with random config</p>
</blockquote><pre><code class="hljs clojure">(save-result (p/filter-channels (slitscan2) samurai) ...)</code></pre><img src="../images/glitch/54c4162ab6becd470955566f7cab669a.jpg" /></div><div><blockquote><p>Provided config</p>
</blockquote><pre><code class="hljs clojure">(save-result
 (let [conf
       {:fields
        {:type :operation,
         :name :comp,
         :var1 {:type :variation,
                :name :pressure-wave,
                :amount 1.0,
                :config {:x-freq -0.27, :y-freq 5.92}},
         :var2
         {:type :variation, :name :besselj, :amount 1.0, :config {}},
         :amount 1.0},
        :r 4.0}]
   (p/filter-channels (slitscan2 conf) samurai))
 ...)</code></pre><img src="../images/glitch/a6354c77eaf1352e932105c515fec5eb.jpg" /></div><div><blockquote><p>Provided config with different range value for each channel</p>
</blockquote><pre><code class="hljs clojure">(save-result
 (let [conf
       {:fields {:type :operation,
                 :name :comp,
                 :var1 {:type :variation,
                        :name :perlin2,
                        :amount 1.0,
                        :config {:seed 112, :scale -1.13, :octaves 4}},
                 :var2 {:type :variation,
                        :name :exponential,
                        :amount 1.0,
                        :config {}},
                 :amount 1.0},
        :r 2.0}]
   (p/filter-channels (slitscan2 (assoc conf :r 1.9))
                      (slitscan2 (assoc conf :r 2.0))
                      (slitscan2 (assoc conf :r 2.1))
                      nil
                      samurai))
 ...)</code></pre><img src="../images/glitch/bbcb7b2c81918ee62b54516a46993428.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L142">view source</a></div></div><div class="public anchor" id="var-slitscan2-random-config"><h3>slitscan2-random-config</h3><div class="usage"><code>(slitscan2-random-config)</code><code>(slitscan2-random-config r)</code><code>(slitscan2-random-config r d)</code></div><div class="doc"><div class="markdown"><p>Generate random configuration for vector fields slitscan.</p>
<ul>
<li><code>r</code> - field range (default 2.0)</li>
<li><code>d</code> - fields configuration depth (default up to 3)</li>
</ul>
</div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p>
</blockquote><pre><code class="hljs clojure">(slitscan2-random-config)
;;=&gt; {:fields {:amount 1.0,
;;=&gt;           :name :comp,
;;=&gt;           :type :operation,
;;=&gt;           :var1 {:amount 1.0,
;;=&gt;                  :name :mult,
;;=&gt;                  :type :operation,
;;=&gt;                  :var1 {:amount 0.5952954185041754,
;;=&gt;                         :config {},
;;=&gt;                         :name :squarize,
;;=&gt;                         :type :variation},
;;=&gt;                  :var2 {:amount -0.8315860454290425,
;;=&gt;                         :config {:amp 0.21182147687145636,
;;=&gt;                                  :amp2 -0.5931344545311442,
;;=&gt;                                  :angle 5.721584534486101,
;;=&gt;                                  :angle2 3.947251211103117,
;;=&gt;                                  :dir 4.835502337957393,
;;=&gt;                                  :dir2 5.650061538138282,
;;=&gt;                                  :freq 1.4681709558484077,
;;=&gt;                                  :freq2 -0.934449890986747,
;;=&gt;                                  :phase 0.12918759463094132,
;;=&gt;                                  :phase2 0.15256230289499584},
;;=&gt;                         :name :vibration,
;;=&gt;                         :type :variation}},
;;=&gt;           :var2
;;=&gt;           {:amount 1.0, :config {}, :name :flipy, :type :variation}},
;;=&gt;  :r 2.0}
(slitscan2-random-config 3.1234)
;;=&gt; {:fields
;;=&gt;  {:amount 0.359409194634897,
;;=&gt;   :name :add,
;;=&gt;   :type :operation,
;;=&gt;   :var1 {:amount -1.086502194582573,
;;=&gt;          :name :comp,
;;=&gt;          :type :operation,
;;=&gt;          :var1
;;=&gt;          {:amount 1.0,
;;=&gt;           :name :angles,
;;=&gt;           :type :operation,
;;=&gt;           :var1 {:amount 1.0,
;;=&gt;                  :config {:space -0.42914621055226654,
;;=&gt;                           :spin-in -1.600562704525317,
;;=&gt;                           :spin-out 2.3425379156980783},
;;=&gt;                  :name :lazytravis,
;;=&gt;                  :type :variation},
;;=&gt;           :var2
;;=&gt;           {:amount 1.0, :config {}, :name :spiral, :type :variation}},
;;=&gt;          :var2 {:amount 1.0,
;;=&gt;                 :config {},
;;=&gt;                 :name :ellipticprecision,
;;=&gt;                 :type :variation}},
;;=&gt;   :var2 {:amount -1.6958417602398463,
;;=&gt;          :config {:amplitude -1.8110183721848179,
;;=&gt;                   :damping 0.0,
;;=&gt;                   :frequency-x -7.701623885661218,
;;=&gt;                   :frequency-y 9.072315283735847,
;;=&gt;                   :perturbation 0.27333349093431647,
;;=&gt;                   :separation 2.392418269408841},
;;=&gt;          :name :oscilloscope2,
;;=&gt;          :type :variation}},
;;=&gt;  :r 3.1234}
(slitscan2-random-config 3.1234 0)
;;=&gt; {:fields {:amount 1.0,
;;=&gt;           :config {:effect 0.6092573125119074},
;;=&gt;           :name :funnel,
;;=&gt;           :type :variation},
;;=&gt;  :r 3.1234}</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/glitch.clj#L130">view source</a></div></div></div></body></html>