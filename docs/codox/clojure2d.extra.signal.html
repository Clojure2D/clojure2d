<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clojure2d.extra.signal documentation</title><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clojure2d</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojure2d</span></div></div></li><li class="depth-2 branch"><a href="clojure2d.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-2 branch"><a href="clojure2d.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>extra</span></div></div></li><li class="depth-3 branch"><a href="clojure2d.extra.glitch.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>glitch</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.extra.overlays.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>overlays</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.extra.raymarching.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>raymarching</span></div></a></li><li class="depth-3 branch"><a href="clojure2d.extra.segmentation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>segmentation</span></div></a></li><li class="depth-3 branch current"><a href="clojure2d.extra.signal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>signal</span></div></a></li><li class="depth-3"><a href="clojure2d.extra.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-2"><a href="clojure2d.pixels.html"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>pixels</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clojure2d.extra.signal.html#var-apply-effects"><div class="inner"><span>apply-effects</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-apply-effects-to-pixels"><div class="inner"><span>apply-effects-to-pixels</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-compose-effects"><div class="inner"><span>compose-effects</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-db-.3Elinear"><div class="inner"><span>db-&gt;linear</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-effect"><div class="inner"><span>effect</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-effects-filter"><div class="inner"><span>effects-filter</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-effects-list"><div class="inner"><span>effects-list</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-linear-.3Edb"><div class="inner"><span>linear-&gt;db</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-load-signal"><div class="inner"><span>load-signal</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-oscillators"><div class="inner"><span>oscillators</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-pixels-.3Esignal"><div class="inner"><span>pixels-&gt;signal</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-save-signal"><div class="inner"><span>save-signal</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-signal"><div class="inner"><span>signal</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-signal-.3Epixels"><div class="inner"><span>signal-&gt;pixels</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-sum-waves"><div class="inner"><span>sum-waves</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-wave"><div class="inner"><span>wave</span></div></a></li><li class="depth-1"><a href="clojure2d.extra.signal.html#var-wave-.3Esignal"><div class="inner"><span>wave-&gt;signal</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clojure2d.extra.signal</h1><div class="doc"><div class="markdown"><p>Signal processing and generation.</p>
<h2><a href="#signal" name="signal"></a>Signal</h2>
<p>Signal is array of doubles from range <code>[-1.0.1.0]</code> packed into <code>Signal</code> type.</p>
<p>Signal can be:</p>
<ul>
  <li>obtained from <code>Pixels</code> with <a href="clojure2d.extra.signal.html#var-pixels-.3Esignal">pixels-&gt;signal</a> function.</li>
  <li>generated by calling <a href="null">signal-from-wave</a>.</li>
  <li>loaded from file with <a href="clojure2d.extra.signal.html#var-load-signal">load-signal</a> function. Signal should be encoded as 16-bit signed integer big endian.</li>
</ul>
<h3><a href="#pixels-as-signal" name="pixels-as-signal"></a>Pixels as Signal</h3>
<p><code>Pixels</code> (<code>Image</code>) can be treated as <code>Signal</code>. Conversion to Signal is based on strategies of converting image to RAW and then converting to audio. It includes channel data layout and packing into integer, encoding, endianess, etc.</p>
<p>To convert <code>Pixels</code> to <code>Signal</code> use <a href="clojure2d.extra.signal.html#var-pixels-.3Esignal">pixels-&gt;signal</a> function. To convert back use <a href="clojure2d.extra.signal.html#var-signal-.3Epixels">signal-&gt;pixels</a>. <a href="clojure2d.extra.signal.html#var-signal-.3Epixels">signal-&gt;pixels</a> requires target <code>Pixels</code> object to store result of conversion. Target is mutated then.</p>
<p>To filter <code>Pixels</code> directly (without explicit conversion to and from Signals) you can use <a href="clojure2d.pixels.html#var-filter-channels">filter-channels</a> with <a href="clojure2d.extra.signal.html#var-effects-filter">effects-filter</a>.</p>
<h3><a href="#wave-as-signal" name="wave-as-signal"></a>Wave as Signal</h3>
<p>You can create <a href="clojure2d.extra.signal.html#var-wave">wave</a> function from oscillator. You can also sum waves with <a href="clojure2d.extra.signal.html#var-sum-waves">sum-waves</a>.</p>
<p>To sample wave to signal, call <a href="clojure2d.extra.signal.html#var-wave-.3Esignal">wave-&gt;signal</a> with following parameters:</p>
<ul>
  <li><code>f</code> - wave function</li>
  <li><code>samplerate</code> - sample rate (samples per second)</li>
  <li><code>seconds</code> - how many seconds generate</li>
</ul>
<h3><a href="#file-operations" name="file-operations"></a>File operations</h3>
<p>You can <a href="clojure2d.extra.signal.html#var-save-signal">save-signal</a> or <a href="clojure2d.extra.signal.html#var-load-signal">load-signal</a>. Representation is 16 bit signed, big endian. Use Audacity or SoX to convert to/from audio files.</p>
<h2><a href="#signal-processing" name="signal-processing"></a>Signal processing</h2>
<p>To process Signal use <a href="clojure2d.extra.signal.html#var-apply-effects">apply-effects</a> function on it.</p>
<p>Effect is signal filter, created with <a href="clojure2d.extra.signal.html#var-effect">effect</a> multimethod. Effects can be composed with <a href="clojure2d.extra.signal.html#var-compose-effects">compose-effects</a>. Effect can be treated as function and can be called for given sample.</p>
<p>Each effect has it’s own parametrization which should be passed during creation.</p>
<p>List of all available effects is under <a href="clojure2d.extra.signal.html#var-effects-list">effects-list</a> value.</p>
<h3><a href="#effects-parametrization" name="effects-parametrization"></a>Effects parametrization</h3>
<p>Each effect has its own parametrization</p>
<h4><a href="#simple-lowpass-simple-highpass" name="simple-lowpass-simple-highpass"></a>:simple-lowpass, :simple-highpass</h4>
<ul>
  <li><code>:rate</code> - sample rate (default 44100.0)</li>
  <li><code>:cutoff</code> - cutoff frequency (default 2000.0)</li>
</ul>
<h4><a href="#biquad-eq" name="biquad-eq"></a>:biquad-eq</h4>
<p>Biquad equalizer</p>
<ul>
  <li><code>:fc</code> - center frequency</li>
  <li><code>:gain</code> - gain</li>
  <li><code>:bw</code> - bandwidth (default: 1.0)</li>
  <li><code>:fs</code> - sampling rate (defatult: 44100.0)</li>
</ul>
<h4><a href="#biquad-hs-biquad-ls" name="biquad-hs-biquad-ls"></a>:biquad-hs, :biquad-ls</h4>
<p>Biquad highpass and lowpass shelf filters</p>
<ul>
  <li><code>:fc</code> - center frequency</li>
  <li><code>:gain</code> - gain</li>
  <li><code>:slope</code> - shelf slope (default 1.5)</li>
  <li><code>:fs</code> - sampling rate (default 44100.0)</li>
</ul>
<h4><a href="#biquad-lp-biquad-hp-biquad-bp" name="biquad-lp-biquad-hp-biquad-bp"></a>:biquad-lp, :biquad-hp, :biquad-bp</h4>
<p>Biquad lowpass, highpass and bandpass filters</p>
<ul>
  <li><code>:fc</code> - cutoff/center frequency</li>
  <li><code>:bw</code> - bandwidth (default 1.0)</li>
  <li><code>:fs</code> - sampling rate (default 44100.0)</li>
</ul>
<h4><a href="#dj-eq" name="dj-eq"></a>:dj-eq</h4>
<ul>
  <li><code>:high</code> - high frequency gain (10000Hz)</li>
  <li><code>:mid</code> - mid frequency gain (1000Hz)</li>
  <li><code>:low</code> - low frequency gain (100Hz)</li>
  <li><code>:shelf-slope</code> - shelf slope for high frequency (default 1.5)</li>
  <li><code>:peak-bw</code> - peak bandwidth for mid and low frequencies (default 1.0)</li>
  <li><code>:rate</code> - sampling rate (default 44100.0)</li>
</ul>
<h4><a href="#phaser-allpass" name="phaser-allpass"></a>:phaser-allpass</h4>
<ul>
  <li><code>:delay</code> - delay factor (default: 0.5)</li>
</ul>
<h4><a href="#divider" name="divider"></a>:divider</h4>
<ul>
  <li><code>:denom</code> (long, default 2.0)</li>
</ul>
<h4><a href="#fm" name="fm"></a>:fm</h4>
<p>Modulate and demodulate signal using frequency</p>
<ul>
  <li><code>:quant</code> - quantization value (0.0 - if no quantization, default 10)</li>
  <li><code>:omega</code> - carrier factor (default 0.014)</li>
  <li><code>:phase</code> - deviation factor (default 0.00822)</li>
</ul>
<h4><a href="#bandwidth-limit" name="bandwidth-limit"></a>:bandwidth-limit</h4>
<p><a href="https://searchcode.com/file/18573523/cmt/src/lofi.cpp#">https://searchcode.com/file/18573523/cmt/src/lofi.cpp#</a></p>
<ul>
  <li><code>:rate</code> - sample rate (default 44100.0)</li>
  <li><code>:freq</code> - cutoff frequency (default 1000.0)</li>
</ul>
<h4><a href="#distort" name="distort"></a>:distort</h4>
<ul>
  <li><code>:factor</code> - distortion factor (default 1.0)</li>
</ul>
<h4><a href="#foverdrive" name="foverdrive"></a>:foverdrive</h4>
<p>Fast overdrive</p>
<ul>
  <li><code>:drive</code> - drive (default 2.0)</li>
</ul>
<h4><a href="#decimator" name="decimator"></a>:decimator</h4>
<ul>
  <li><code>:bits</code> - bit depth (default 2)</li>
  <li><code>:fs</code> - decimator sample rate (default 4410.0)</li>
  <li><code>:rate</code> - input sample rate (default 44100.0)</li>
</ul>
<h4><a href="#basstreble" name="basstreble"></a>:basstreble</h4>
<ul>
  <li><code>:bass</code> - bass gain (default 1.0)</li>
  <li><code>:treble</code> - treble gain (default 1.0)</li>
  <li><code>:gain</code> - gain (default 0.0)</li>
  <li><code>:rate</code> - sample rate (default 44100.0)</li>
  <li><code>:slope</code> - slope for both (default 0.4)</li>
  <li><code>:bass-freq</code> - bass freq (default 250.0)</li>
  <li><code>:treble-freq</code> - treble freq (default 4000.0)</li>
</ul>
<h4><a href="#echo" name="echo"></a>:echo</h4>
<ul>
  <li><code>:delay</code> - delay time in seconds (default 0.5)</li>
  <li><code>:decay</code> - decay (amount echo in signal, default 0.5)</li>
  <li><code>:rate</code> - sample rate (default 44100.0)</li>
</ul>
<p><em>Warning! Echo filter uses mutable array as a internal state, don’t use the same filter in paraller processing.</em></p>
<h4><a href="#vcf303" name="vcf303"></a>:vcf303</h4>
<ul>
  <li><code>:rate</code> - sample rate (default 44100.0)</li>
  <li><code>:trigger</code> - boolean, trigger some action (default <code>false</code>), set true when you reset filter every line</li>
  <li><code>:cutoff</code> - cutoff frequency (values 0-1, default 0.8)</li>
  <li><code>:resonance</code> - resonance (values 0-1, default 0.8)</li>
  <li><code>:env-mod</code> - envelope modulation (values 0-1, default 0.5)</li>
  <li><code>:decay</code> - decay (values 0-1, default 1.0)</li>
  <li><code>:gain</code> - gain output signal (default: 1.0)</li>
</ul>
<h4><a href="#slew-limit" name="slew-limit"></a>:slew-limit</h4>
<p><a href="http://git.drobilla.net/cgit.cgi/omins.lv2.git/tree/src/slew_limiter.c">http://git.drobilla.net/cgit.cgi/omins.lv2.git/tree/src/slew_limiter.c</a></p>
<ul>
  <li><code>:rate</code> - sample rate</li>
  <li><code>:maxrise</code> - maximum change for rising signal (in terms of 1/rate steps, default 500)</li>
  <li><code>:maxfall</code> - maximum change for falling singal (default 500)</li>
</ul>
<h4><a href="#mda-thru-zero" name="mda-thru-zero"></a>:mda-thru-zero</h4>
<ul>
  <li><code>:rate</code> - sample rate</li>
  <li><code>:speed</code> - effect rate</li>
  <li><code>:depth</code></li>
  <li><code>:mix</code></li>
  <li><code>:depth-mod</code></li>
  <li><code>:feedback</code></li>
</ul>
<p><em>Warning: like <code>:echo</code> internal state is kept in doubles array.</em></p></div><div class="markdown"><h4>Categories</h4><ul><li>Effects: <a href="clojure2d.extra.signal.html#var-apply-effects">apply-effects</a> <a href="clojure2d.extra.signal.html#var-apply-effects-to-pixels">apply-effects-to-pixels</a> <a href="clojure2d.extra.signal.html#var-compose-effects">compose-effects</a> <a href="clojure2d.extra.signal.html#var-effect">effect</a> <a href="clojure2d.extra.signal.html#var-effects-filter">effects-filter</a> <a href="clojure2d.extra.signal.html#var-effects-list">effects-list</a></li><li>Signal: <a href="clojure2d.extra.signal.html#var-load-signal">load-signal</a> <a href="clojure2d.extra.signal.html#var-pixels-.3Esignal">pixels-&gt;signal</a> <a href="clojure2d.extra.signal.html#var-save-signal">save-signal</a> <a href="clojure2d.extra.signal.html#var-signal">signal</a> <a href="clojure2d.extra.signal.html#var-signal-.3Epixels">signal-&gt;pixels</a></li><li>Wave: <a href="clojure2d.extra.signal.html#var-oscillators">oscillators</a> <a href="clojure2d.extra.signal.html#var-sum-waves">sum-waves</a> <a href="clojure2d.extra.signal.html#var-wave">wave</a> <a href="clojure2d.extra.signal.html#var-wave-.3Esignal">wave-&gt;signal</a></li></ul><p>Other vars: <a>-&gt;BiquadConf</a> <a>-&gt;EffectsList</a> <a>-&gt;SampleAndState</a> <a>-&gt;Signal</a> <a>-&gt;StateBassTreble</a> <a>-&gt;StateBiquad</a> <a>-&gt;StateDecimator</a> <a>-&gt;StateDivider</a> <a>-&gt;StateEcho</a> <a>-&gt;StateFm</a> <a>-&gt;StateMdaThruZero</a> <a>-&gt;StateVcf303</a> <a href="clojure2d.extra.signal.html#var-db-.3Elinear">db-&gt;linear</a> <a href="clojure2d.extra.signal.html#var-linear-.3Edb">linear-&gt;db</a></p></div><div class="markdown"><h4>Code snippets</h4><div><blockquote><p>Save pixels to image.</p></blockquote><pre><code>(defn saver
  [f params &amp; opts]
  (let [n (str "images/signal/" (first opts) ".jpg")]
    (save (f (p/load-pixels "docs/cockatoo.jpg")) (str "docs/" n))
    (str "../" n)))</code></pre></div><div><blockquote><p>Draw signal and applied effect</p></blockquote><pre><code>(defn draw-effect
  [f params &amp; opts]
  (let [n (str "images/signal/" (first opts) ".jpg")
        sig (wave-&gt;signal (sum-waves (wave :square 1.0 0.4 0.1)
                                     (wave :sin 5.0 0.4 0.1)
                                     (wave :saw 2.0 0.2 0.78)
                                     (wave :noise 32.0 0.8 0.1))
                          200
                          5)
        sigout (apply-effects sig f)]
    (save (plot-signals sig sigout) (str "docs/" n))
    (str "../" n)))</code></pre></div><div><blockquote><p>Image with applied effect</p></blockquote><pre><code>(defn draw-effect-on-pixels
  [f params &amp; opts]
  (let [n (str "images/signal/" (first opts) ".jpg")
        pix
        (apply-effects-to-pixels f (p/load-pixels "docs/cockatoo.jpg"))]
    (save pix (str "docs/" n))
    (str "../" n)))</code></pre></div><div><blockquote><p>Draw wave</p></blockquote><pre><code>(defn draw-wave
  [f params &amp; opts]
  (let [n (str "images/signal/" (first opts) ".jpg")]
    (save (plot-signals (wave-&gt;signal f 200 5)) (str "docs/" n))
    (str "../" n)))</code></pre></div></div></div><div class="public anchor" id="var-apply-effects"><h3>apply-effects</h3><div class="usage"><code>(apply-effects s effects reset)</code><code>(apply-effects sig effects)</code></div><div class="doc"><div class="markdown"><p>Apply effects to signal.</p>
<p>If <code>reset</code> is positive, reinit state each <code>reset</code> number of samples.</p>
<p>Returns new signal.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [lpf (effect :simple-lowpass {:cutoff 10000})
      sgnal (signal [-1.0 1.0 -0.5 0.5 -0.1 0.1 0 0])]
  (seq (apply-effects sgnal lpf)))
;;=&gt; (-0.5875878072514978
;;=&gt;  0.34525943123062336
;;=&gt;  -0.15140470452482685
;;=&gt;  0.23135275744022601
;;=&gt;  0.03665391726918618
;;=&gt;  0.07387530311895704
;;=&gt;  0.030467075749249332
;;=&gt;  0.012564993516382631)</code></pre></div><div><blockquote><p>Reset state every two samples</p></blockquote><pre><code class="hljs clojure">(let [lpf (effect :simple-lowpass {:cutoff 10000})
      sgnal (signal [-1.0 1.0 -0.5 0.5 -0.1 0.1 0 0])]
  (seq (apply-effects sgnal lpf 2)))
;;=&gt; (-0.5875878072514978
;;=&gt;  0.34525943123062336
;;=&gt;  -0.2937939036257489
;;=&gt;  0.17262971561531168
;;=&gt;  -0.058758780725149784
;;=&gt;  0.034525943123062335
;;=&gt;  0.0
;;=&gt;  0.0)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L318">view source</a></div></div><div class="public anchor" id="var-apply-effects-to-pixels"><h3>apply-effects-to-pixels</h3><div class="usage"><code>(apply-effects-to-pixels effects config config-back reset pixels)</code><code>(apply-effects-to-pixels effects pixels)</code><code>(apply-effects-to-pixels effects reset pixels)</code><code>(apply-effects-to-pixels effects config config-back pixels)</code></div><div class="doc"><div class="markdown"><p>Apply effects directly to <code>Pixels</code>.</p>
<p>Provide configurations to properly convert Pixels to Signal and back. Optionally set <code>reset</code> value (reinit effects’ state after <code>reset</code> samples).</p>
<p>If you prefer operating through <a href="clojure2d.pixels.html#var-filter-channels">filter-channels</a> use <a href="null">effect-filter</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Apply hpf to all channels</p></blockquote><pre><code class="hljs clojure">(saver
 (fn [in]
   (apply-effects-to-pixels (effect :simple-highpass {:cutoff 10})
                            {:channels :all, :bits 16}
                            {:channels :all, :planar? false, :bits 16}
                            in))
 ...)</code></pre><img src="../images/signal/3ec97f7f02680f415269f22d3a260931.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L368">view source</a></div></div><div class="public anchor" id="var-compose-effects"><h3>compose-effects</h3><div class="usage"><code>(compose-effects e &amp; es)</code></div><div class="doc"><div class="markdown"><p>Compose effects.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [lpf (effect :simple-lowpass)
      hpf (effect :simple-highpass {:cutoff 2000.0})
      composed (compose-effects lpf hpf)
      result (composed 0.5)]
  {"Composed effects" composed,
   "After call on sample" result,
   "Extract sample" (result)})
;;=&gt; {"After call on sample"
;;=&gt;  #object[clojure2d.extra.signal.EffectsList 0x4caca1 "simple-highpass (0.38911967999610275) -&gt; simple-lowpass (0.08629142927556396)"],
;;=&gt;  "Composed effects"
;;=&gt;  #object[clojure2d.extra.signal.EffectsList 0x515de635 "simple-highpass (0.0) -&gt; simple-lowpass (0.0)"],
;;=&gt;  "Extract sample" 0.08629142927556396}</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L296">view source</a></div></div><div class="public anchor" id="var-db-.3Elinear"><h3>db-&gt;linear</h3><div class="usage"><code>(db-&gt;linear x)</code></div><div class="doc"><div class="markdown"><p>DB to Linear</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(db-&gt;linear 0.5)
;;=&gt; 1.0592537251772889</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L387">view source</a></div></div><div class="public anchor" id="var-effect"><h3>effect</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Create effect for given name (as keyword) and optional parametrization.</p>
<p>List of all possible effects is under <a href="clojure2d.extra.signal.html#var-effects-list">effects-list</a>.</p>
<p>Effect is a custom type which contains: name, sample (result of last call), effect function and current state.</p>
<p>Effect can be considered as function: call with sample to effect with next state or call without parameter to obtain latest result. Effects are also composable with <a href="clojure2d.extra.signal.html#var-compose-effects">compose-effects</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Basic usage</p></blockquote><pre><code class="hljs clojure">(effect :fm)
;;=&gt; fm (0.0)
(effect :fm {:quant 5})
;;=&gt; fm (0.0)</code></pre></div><div><blockquote><p>Use as a function</p></blockquote><pre><code class="hljs clojure">(let [fm (effect :fm)] (fm 0.5))
;;=&gt; fm (-0.6932861325171887)</code></pre></div><div><blockquote><p>Extract last result.</p></blockquote><pre><code class="hljs clojure">(let [fm (effect :fm) result (fm 0.5)] (result))
;;=&gt; -0.6932861325171887</code></pre></div><div><blockquote><p>:simple-lowpass</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :simple-lowpass {:rate 200, :cutoff 2}) ...)</code></pre><img src="../images/signal/af622a529f9464c1ef12ae5db3ddfb89.jpg" /></div><div><blockquote><p>:simple-highpass</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :simple-highpass {:rate 200, :cutoff 10}) ...)</code></pre><img src="../images/signal/2e1e18fa01e5b1d16620fa74c00fc27e.jpg" /></div><div><blockquote><p>:biquad-eq</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :biquad-eq {:fs 200, :fc 10, :gain -10, :bw 4.0})
             ...)</code></pre><img src="../images/signal/77e6216131dfe4ef58a95cd831241caf.jpg" /></div><div><blockquote><p>:biquad-hs</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :biquad-hs {:fs 200, :fc 2, :gain -10, :slope 2.0})
             ...)</code></pre><img src="../images/signal/ddb07f5ea873886d5c1a7a2397125a54.jpg" /></div><div><blockquote><p>:biquad-ls</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :biquad-ls {:fs 200, :fc 5, :gain 5, :slope 2.0})
             ...)</code></pre><img src="../images/signal/3733274e26b3aca9ec027ddd7ffbf102.jpg" /></div><div><blockquote><p>:biquad-bp</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :biquad-bp {:fs 200, :fc 15, :bw 2}) ...)</code></pre><img src="../images/signal/22b9835f4bad42be70d35307d518ce9c.jpg" /></div><div><blockquote><p>:biquad-lp</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :biquad-lp {:fs 200, :fc 15, :bw 2}) ...)</code></pre><img src="../images/signal/ce907f3c5c5fe10ea652c21d17219795.jpg" /></div><div><blockquote><p>:biquad-hp</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :biquad-hp {:fs 200, :fc 15, :bw 2}) ...)</code></pre><img src="../images/signal/d4b3944e8cf56949e6bb7fd0b959e411.jpg" /></div><div><blockquote><p>:dj-eq</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :dj-eq
                     {:rate 200,
                      :high -10,
                      :low -20,
                      :mid 5.0,
                      :peak-bw 5,
                      :shelf-slope 5})
             ...)</code></pre><img src="../images/signal/e72c0314b027125797b54849b46b608e.jpg" /></div><div><blockquote><p>:phaser-allpass</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :phaser-allpass {:delay 0.1}) ...)</code></pre><img src="../images/signal/f5fdca6cd97793935383ed48d7649611.jpg" /></div><div><blockquote><p>:divider</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :divider {:denom 1}) ...)</code></pre><img src="../images/signal/05810d9d910f2bcb2e23449dab02e036.jpg" /></div><div><blockquote><p>:fm</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :fm {:quant 0.0, :omega 0.025, :phase 0.05}) ...)</code></pre><img src="../images/signal/e63fcaac61b701bfa9068048f37fee15.jpg" /></div><div><blockquote><p>:bandwidth-limit</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :bandwidth-limit {:rate 200, :freq 10}) ...)</code></pre><img src="../images/signal/1955eb3b07cd0b27fa9538035dbf4042.jpg" /></div><div><blockquote><p>:distort</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :distort {:factor 0.1}) ...)</code></pre><img src="../images/signal/6b2939acffa33f5bef0be599140de21c.jpg" /></div><div><blockquote><p>:foverdrive</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :foverdrive {:drive 3.0}) ...)</code></pre><img src="../images/signal/2001fe3a7f19da10d2dafbb9f917e3c4.jpg" /></div><div><blockquote><p>:decimator</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :decimator {:bits 4, :rate 200, :fs 10}) ...)</code></pre><img src="../images/signal/77f37951bea94502db65ed2e4022911c.jpg" /></div><div><blockquote><p>:basstreble</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :basstreble
                     {:rate 200,
                      :treble-freq 60,
                      :bass-freq 2.0,
                      :bass -5,
                      :treble -5,
                      :gain 2.0,
                      :slope 1.0})
             ...)</code></pre><img src="../images/signal/f0082e684e258f8e8f9bf0dc591d80ba.jpg" /></div><div><blockquote><p>:echo</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :echo {:delay 0.912, :decay 0.3, :rate 200}) ...)</code></pre><img src="../images/signal/94f8113029c08fd105989c1eb26a413a.jpg" /></div><div><blockquote><p>:vcf303</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :vcf303
                     {:gain 3.0,
                      :rate 200,
                      :trigger false,
                      :cutoff 0.1,
                      :resonance 1.1,
                      :env-mod 0.9})
             ...)</code></pre><img src="../images/signal/e4606b1b7e388b4921067f7f63b977da.jpg" /></div><div><blockquote><p>:slew-limit</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :slew-limit {:rate 200, :maxrise 2, :maxfall 10})
             ...)</code></pre><img src="../images/signal/050222aa30454bb466e376fcb4eab09b.jpg" /></div><div><blockquote><p>:mda-thru-zero</p></blockquote><pre><code class="hljs clojure">(draw-effect (effect :mda-thru-zero
                     {:rate 200,
                      :speed 0.9,
                      :depth 1.0,
                      :mix 0.8,
                      :depth-mod 1.9,
                      :feedback 0.9})
             ...)</code></pre><img src="../images/signal/2917ae86da4d515a908c48efc35b2933.jpg" /></div><div><blockquote><p>:simple-lowpass</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :simple-lowpass {:rate 200, :cutoff 2})
                       ...)</code></pre><img src="../images/signal/70930f04fd38315a8adc8e335900fee3.jpg" /></div><div><blockquote><p>:simple-highpass</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :simple-highpass {:rate 200, :cutoff 10})
                       ...)</code></pre><img src="../images/signal/dca5231b37e2949f282eb8b6379df8c6.jpg" /></div><div><blockquote><p>:biquad-eq</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :biquad-eq
                               {:fs 200, :fc 10, :gain -10, :bw 4.0})
                       ...)</code></pre><img src="../images/signal/54fbb3735bf5a56b50660753eaf880f9.jpg" /></div><div><blockquote><p>:biquad-hs</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :biquad-hs
                               {:fs 200, :fc 2, :gain -10, :slope 2.0})
                       ...)</code></pre><img src="../images/signal/096242c74ca77ee8f2f9b35b7ac2d557.jpg" /></div><div><blockquote><p>:biquad-ls</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :biquad-ls
                               {:fs 200, :fc 5, :gain 5, :slope 2.0})
                       ...)</code></pre><img src="../images/signal/406a8836edc2ee7fc1ebb1a8040aa260.jpg" /></div><div><blockquote><p>:biquad-bp</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :biquad-bp {:fs 200, :fc 15, :bw 2}) ...)</code></pre><img src="../images/signal/f1fa82c0a9217d50fe272fb9f8462dcd.jpg" /></div><div><blockquote><p>:biquad-lp</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :biquad-lp {:fs 200, :fc 15, :bw 2}) ...)</code></pre><img src="../images/signal/d2e9437163fa782c2d07f66e75eca89b.jpg" /></div><div><blockquote><p>:biquad-hp</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :biquad-hp {:fs 200, :fc 15, :bw 2}) ...)</code></pre><img src="../images/signal/9fd6430f72ceca5614a8fa7b0028b20a.jpg" /></div><div><blockquote><p>:dj-eq</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :dj-eq
                               {:rate 200,
                                :high -10,
                                :low -20,
                                :mid 5.0,
                                :peak-bw 5,
                                :shelf-slope 5})
                       ...)</code></pre><img src="../images/signal/7507d1c88365327d9b831cb198ca1d28.jpg" /></div><div><blockquote><p>:phaser-allpass</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :phaser-allpass {:delay 0.1}) ...)</code></pre><img src="../images/signal/4088f0c859ff6b2f9014da477d1f339d.jpg" /></div><div><blockquote><p>:divider</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :divider {:denom 1}) ...)</code></pre><img src="../images/signal/7d14f3f54dab8a203c3d257f7bc50760.jpg" /></div><div><blockquote><p>:fm</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :fm
                               {:quant 0.0, :omega 0.025, :phase 0.05})
                       ...)</code></pre><img src="../images/signal/7a11639f33a518431627cecc8182cf30.jpg" /></div><div><blockquote><p>:bandwidth-limit</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :bandwidth-limit {:rate 200, :freq 10})
                       ...)</code></pre><img src="../images/signal/a52c743938cb6c0a592f51d720e15f3d.jpg" /></div><div><blockquote><p>:distort</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :distort {:factor 0.1}) ...)</code></pre><img src="../images/signal/a196f052102464f8edff86253e84d727.jpg" /></div><div><blockquote><p>:foverdrive</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :foverdrive {:drive 3.0}) ...)</code></pre><img src="../images/signal/6825faa749102f238bc2a4c39507ea19.jpg" /></div><div><blockquote><p>:decimator</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :decimator {:bits 4, :rate 200, :fs 10})
                       ...)</code></pre><img src="../images/signal/a200b568307f376b7563b066c6ae7117.jpg" /></div><div><blockquote><p>:basstreble</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :basstreble
                               {:rate 200,
                                :treble-freq 60,
                                :bass-freq 2.0,
                                :bass -5,
                                :treble -5,
                                :gain 2.0,
                                :slope 1.0})
                       ...)</code></pre><img src="../images/signal/38d88ba475945d4088ec0fac46ae4a77.jpg" /></div><div><blockquote><p>:echo</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :echo
                               {:delay 0.912, :decay 0.3, :rate 200})
                       ...)</code></pre><img src="../images/signal/59fa1a2bff8f63ca9e367563c6f90b26.jpg" /></div><div><blockquote><p>:vcf303</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :vcf303
                               {:gain 3.0,
                                :rate 200,
                                :trigger false,
                                :cutoff 0.1,
                                :resonance 1.1,
                                :env-mod 0.9})
                       ...)</code></pre><img src="../images/signal/279953418cd87bf258108c8c71104175.jpg" /></div><div><blockquote><p>:slew-limit</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :slew-limit
                               {:rate 200, :maxrise 2, :maxfall 10})
                       ...)</code></pre><img src="../images/signal/de5578040db8a35f5790332f6204202c.jpg" /></div><div><blockquote><p>:mda-thru-zero</p></blockquote><pre><code class="hljs clojure">(draw-effect-on-pixels (effect :mda-thru-zero
                               {:rate 200,
                                :speed 0.9,
                                :depth 1.0,
                                :mix 0.8,
                                :depth-mod 1.9,
                                :feedback 0.9})
                       ...)</code></pre><img src="../images/signal/a0ed903d601948eaf53bc4089a192412.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L399">view source</a></div></div><div class="public anchor" id="var-effects-filter"><h3>effects-filter</h3><div class="usage"><code>(effects-filter effects config config-back reset)</code><code>(effects-filter effects)</code><code>(effects-filter effects reset)</code><code>(effects-filter effects config config-back)</code></div><div class="doc"><div class="markdown"><p>Creates filter to process <code>Pixels</code> as <code>Signal</code> using <a href="clojure2d.pixels.html#var-filter-channels">filter-channels</a>.</p>
<p>Provide configurations to properly convert Pixels to Signal and back. Optionally set <code>reset</code> value (reinit effects’ state after <code>reset</code> samples).</p>
<p>Filter operates on one channel at time and is defined to be used with <a href="clojure2d.pixels.html#var-filter-channels">filter-channels</a>. If you want to operate on <code>Pixels</code> directly, use <a href="clojure2d.extra.signal.html#var-apply-effects-to-pixels">apply-effects-to-pixels</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Apply lpf to the image</p></blockquote><pre><code class="hljs clojure">(saver (fn [in]
         (let [lpf (effects-filter (effect :simple-highpass
                                           {:cutoff 1000}))]
           (p/filter-channels lpf in)))
       ...)</code></pre><img src="../images/signal/d696ceadd58959ea42b659e073427747.jpg" /></div><div><blockquote><p>Apply lpf to the image, with some conversion parametrization</p></blockquote><pre><code class="hljs clojure">(saver
 (fn [in]
   (let [lpf (effects-filter (effect :simple-lowpass {:cutoff 500})
                             {:signed? true}
                             {:signed? true}
                             15)]
     (p/filter-channels lpf in)))
 ...)</code></pre><img src="../images/signal/eba4b04744b6c4f7e283c41372f9c062.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L348">view source</a></div></div><div class="public anchor" id="var-effects-list"><h3>effects-list</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of effects.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of all effects</p></blockquote><pre><code class="hljs clojure">effects-list
;;=&gt; (:bandwidth-limit :basstreble :biquad-bp
;;=&gt;                   :biquad-eq :biquad-hp
;;=&gt;                   :biquad-hs :biquad-lp
;;=&gt;                   :biquad-ls :decimator
;;=&gt;                   :distort :divider
;;=&gt;                   :dj-eq :echo
;;=&gt;                   :fm :foverdrive
;;=&gt;                   :mda-thru-zero :phaser-allpass
;;=&gt;                   :simple-highpass :simple-lowpass
;;=&gt;                   :slew-limit :vcf303)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L951">view source</a></div></div><div class="public anchor" id="var-linear-.3Edb"><h3>linear-&gt;db</h3><div class="usage"><code>(linear-&gt;db x)</code></div><div class="doc"><div class="markdown"><p>Linear to DB</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(linear-&gt;db 0.5)
;;=&gt; -6.020599913279624</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L392">view source</a></div></div><div class="public anchor" id="var-load-signal"><h3>load-signal</h3><div class="usage"><code>(load-signal filename)</code></div><div class="doc"><div class="markdown"><p>Read signal from file</p>
<p>Expected representation is 16 bit signed, big endian file.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [s (pixels-&gt;signal (p/load-pixels "docs/cockatoo.jpg"))]
  (save-signal s "signal.raw")
  {:out (nth (load-signal "signal.raw") 11500), :in (nth s 11500)})
;;=&gt; {:in 0.8196078431372549, :out 0.8196078431372549}</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L973">view source</a></div></div><div class="public anchor" id="var-oscillators"><h3>oscillators</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of oscillator names used with <a href="clojure2d.extra.signal.html#var-wave">wave</a></p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of oscillators</p></blockquote><pre><code class="hljs clojure">oscillators
;;=&gt; (:constant :cut-triangle :noise :saw :sin :square :triangle)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L1057">view source</a></div></div><div class="public anchor" id="var-pixels-.3Esignal"><h3>pixels-&gt;signal</h3><div class="usage"><code>(pixels-&gt;signal p {:keys [planar? signed? little-endian? bits channels coding], :or {planar? true, little-endian? true, bits 8, signed? false, channels [0 1 2], coding :none}})</code><code>(pixels-&gt;signal p)</code></div><div class="doc"><div class="markdown"><p>Convert <code>Pixels</code> to <code>Signal</code> for given specifications.</p>
<p>Specification for conversion is based on Audacity importing options and image to RAW conversions practices. Spec contains:</p>
<ul>
  <li><code>planar?</code> - layout of channels data, planar (true, default) or interleaved (false)</li>
  <li><code>signed?</code> - channel data are encoded as signed (true, default) or unsigned (false) integer.</li>
  <li><code>little-endian?</code> - for 16 and 24 bits pack channel data with little-endian order (true, default) or big-endian (false)</li>
  <li><code>bits</code> - pack channel data in 8 (default), 16 or 24 bits.</li>
  <li><code>channels</code> - list of channels to convert to signal, default <code>[0 1 2]</code> (for all you can use <code>:all</code> keyword).</li>
  <li><code>coding</code> - encode signal with one of the encoders: <code>:alaw</code>, <code>:alaw-rev</code>, <code>:ulaw</code>, <code>:ulaw-rev</code> or <code>:none</code> (default).</li>
</ul>
<p>Pixels can be restored from Signal with <a href="clojure2d.extra.signal.html#var-signal-.3Epixels">signal-&gt;pixels</a> function.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Basic usage</p></blockquote><pre><code class="hljs clojure">(pixels-&gt;signal (p/load-pixels "docs/cockatoo.jpg"))
;;=&gt; size=67500</code></pre></div><div><blockquote><p>Custom configuration</p></blockquote><pre><code class="hljs clojure">(pixels-&gt;signal (p/load-pixels "docs/cockatoo.jpg")
                {:planar? false,
                 :signed? true,
                 :bits 24,
                 :coding :ulaw,
                 :channels [2 1]})
;;=&gt; size=15000</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L218">view source</a></div></div><div class="public anchor" id="var-save-signal"><h3>save-signal</h3><div class="usage"><code>(save-signal s filename)</code></div><div class="doc"><div class="markdown"><p>Save signal to file.</p>
<p>Representation is: 16 bit signed, big endian file You can use Audacity/SOX utilities to convert files to audio.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [s (pixels-&gt;signal (p/load-pixels "docs/cockatoo.jpg"))]
  (save-signal s "signal.raw"))
;;=&gt; size=67500</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L957">view source</a></div></div><div class="public anchor" id="var-signal"><h3>signal</h3><div class="usage"><code>(signal xs)</code></div><div class="doc"><div class="markdown"><p>Signal creator</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Create signal from sequence</p></blockquote><pre><code class="hljs clojure">(signal (repeatedly 1000 rand))
;;=&gt; size=1000</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L202">view source</a></div></div><div class="public anchor" id="var-signal-.3Epixels"><h3>signal-&gt;pixels</h3><div class="usage"><code>(signal-&gt;pixels sig target {:keys [planar? signed? little-endian? bits channels coding], :or {planar? true, little-endian? true, bits 8, signed? false, channels [0 1 2], coding :none}})</code><code>(signal-&gt;pixels sig target)</code></div><div class="doc"><div class="markdown"><p>Convert <code>Signal</code> to <code>Pixels</code> storing result into <code>target</code> (mutating it!).</p>
<p>Specification is the same as in <a href="null">pixels-signal</a> functions.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Basic usage</p></blockquote><pre><code class="hljs clojure">(let [p (p/load-pixels "docs/cockatoo.jpg")
      target (p/clone-pixels p)]
  (signal-&gt;pixels (pixels-&gt;signal p) target))
;;=&gt; pixels (150, 150)</code></pre></div><div><blockquote><p>Custom configuration</p></blockquote><pre><code class="hljs clojure">(let [p (p/load-pixels "docs/cockatoo.jpg")
      target (p/clone-pixels p)
      conf-in {:planar? false,
               :signed? true,
               :bits 24,
               :coding :alaw,
               :channels [2 1]}
      conf-out (merge conf-in {:coding :alaw-rev})]
  (signal-&gt;pixels (pixels-&gt;signal p conf-in) target conf-out))
;;=&gt; pixels (150, 150)</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L243">view source</a></div></div><div class="public anchor" id="var-sum-waves"><h3>sum-waves</h3><div class="usage"><code>(sum-waves &amp; fs)</code></div><div class="doc"><div class="markdown"><p>Create wave which is sum of all waves.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [w1 (wave :sin 1.0 0.8 1.0)
      w2 (wave :noise 20.0 0.5 0.1)
      sum (sum-waves w1 w2)]
  (sum 0.5))
;;=&gt; -0.051086158790885336</code></pre></div><div><blockquote><p>Sum waves plot</p></blockquote><pre><code class="hljs clojure">(draw-wave (let [w1 (wave :sin 1.0 0.8 1.0)
                 w2 (wave :noise 20.0 0.5 0.1)]
             (sum-waves w1 w2))
           ...)</code></pre><img src="../images/signal/e6ac224e29951cf46cddcacc14019d76.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L1061">view source</a></div></div><div class="public anchor" id="var-wave"><h3>wave</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Create waves from various oscilators</p>
<p>Parameters are:</p>
<ul>
  <li>oscilator name (see <code>oscillators</code> variable)</li>
  <li>frequency</li>
  <li>amplitude</li>
  <li>phase (0-1)</li>
</ul>
<p>Multimethod creates oscillator function accepting <code>double</code> (time) and resulting <code>double</code> from [-1.0 1.0] range.</p>
<p>To convert <code>wave</code> to Signal, call <a href="null">signal-from-wave</a>.</p>
<p>To add waves, call <a href="clojure2d.extra.signal.html#var-sum-waves">sum-waves</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [wave-sin (wave :sin 1.0 1.0 0.5)] (wave-sin 0.1))
;;=&gt; -0.5877852522924728
(let [wave-noise (wave :noise 0.1 1.0 0.123)] (wave-noise 0.1))
;;=&gt; -0.20924966038530957</code></pre></div><div><blockquote><p>constant</p></blockquote><pre><code class="hljs clojure">(clojure2d.extra.signal-example/draw-wave
 (clojure2d.extra.signal/wave :constant 1.0 1.0 0.1)
 ...)</code></pre><img src="../images/signal/78d9cda6274556c0ca561519ad31f1ba.jpg" /></div><div><blockquote><p>cut-triangle</p></blockquote><pre><code class="hljs clojure">(clojure2d.extra.signal-example/draw-wave
 (clojure2d.extra.signal/wave :cut-triangle 1.0 1.0 0.1)
 ...)</code></pre><img src="../images/signal/d50a308fc3ffd332d444857820e6ff51.jpg" /></div><div><blockquote><p>noise</p></blockquote><pre><code class="hljs clojure">(clojure2d.extra.signal-example/draw-wave
 (clojure2d.extra.signal/wave :noise 1.0 1.0 0.1)
 ...)</code></pre><img src="../images/signal/9d01110cb6d7f096b02da8f8d9df2776.jpg" /></div><div><blockquote><p>saw</p></blockquote><pre><code class="hljs clojure">(clojure2d.extra.signal-example/draw-wave
 (clojure2d.extra.signal/wave :saw 1.0 1.0 0.1)
 ...)</code></pre><img src="../images/signal/d05a358c04dd5499c4cb555fa9a77f03.jpg" /></div><div><blockquote><p>sin</p></blockquote><pre><code class="hljs clojure">(clojure2d.extra.signal-example/draw-wave
 (clojure2d.extra.signal/wave :sin 1.0 1.0 0.1)
 ...)</code></pre><img src="../images/signal/53ba7919849170ec2ac5aa162b63bd86.jpg" /></div><div><blockquote><p>square</p></blockquote><pre><code class="hljs clojure">(clojure2d.extra.signal-example/draw-wave
 (clojure2d.extra.signal/wave :square 1.0 1.0 0.1)
 ...)</code></pre><img src="../images/signal/867a8c6022a2ff0cb10495a5735ee663.jpg" /></div><div><blockquote><p>triangle</p></blockquote><pre><code class="hljs clojure">(clojure2d.extra.signal-example/draw-wave
 (clojure2d.extra.signal/wave :triangle 1.0 1.0 0.1)
 ...)</code></pre><img src="../images/signal/e1a65b8318be5cfae22e8086a5c658d7.jpg" /></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L1002">view source</a></div></div><div class="public anchor" id="var-wave-.3Esignal"><h3>wave-&gt;signal</h3><div class="usage"><code>(wave-&gt;signal f samplerate seconds)</code></div><div class="doc"><div class="markdown"><p>Create Signal from wave. Parameters are: f - oscillator, samplerate and number of seconds.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [w (wave :square 0.2 0.9 0.2)] (wave-&gt;signal w 44100 5))
;;=&gt; size=220500</code></pre></div></div><div class="src-link"><a href="https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d/extra/signal.clj#L1067">view source</a></div></div></div></body></html>